{"version":3,"file":"spartacus-storefinder-root.mjs","sources":["../../../feature-libs/storefinder/root/config/constants.ts","../../../feature-libs/storefinder/root/config/default-store-finder-layout-config.ts","../../../feature-libs/storefinder/root/config/index.ts","../../../feature-libs/storefinder/root/feature-name.ts","../../../feature-libs/storefinder/root/facade/store-finder.facade.ts","../../../feature-libs/storefinder/root/facade/index.ts","../../../feature-libs/storefinder/root/model/store-entities.model.ts","../../../feature-libs/storefinder/root/model/index.ts","../../../feature-libs/storefinder/root/store-finder-root.module.ts","../../../feature-libs/storefinder/root/public_api.ts","../../../feature-libs/storefinder/root/spartacus-storefinder-root.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const GOOGLE_MAPS_DEVELOPMENT_KEY_CONFIG = 'cx-development';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { LayoutConfig } from '@spartacus/storefront';\n\nexport const defaultStoreFinderLayoutConfig: LayoutConfig = {\n  layoutSlots: {\n    StoreFinderPageTemplate: {\n      slots: ['MiddleContent', 'SideContent'],\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './constants';\nexport * from './default-store-finder-layout-config';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const STORE_FINDER_FEATURE = 'storeFinder';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable } from '@angular/core';\nimport {\n  facadeFactory,\n  GeoPoint,\n  PointOfService,\n  SearchConfig,\n} from '@spartacus/core';\nimport { Observable } from 'rxjs';\nimport { STORE_FINDER_FEATURE } from '../feature-name';\nimport { StoreEntities } from '../model/store-entities.model';\n\n/**\n * Store the Point of Service a user wants to collect a product from before it is added to the cart.\n */\n@Injectable({\n  providedIn: 'root',\n  useFactory: () =>\n    facadeFactory({\n      facade: StoreFinderFacade,\n      feature: STORE_FINDER_FEATURE,\n      methods: [\n        'getStoresLoading',\n        'getStoresLoaded',\n        'getFindStoresEntities',\n        'getViewAllStoresLoading',\n        'getViewAllStoresEntities',\n        'findStoresAction',\n        'viewAllStores',\n        'viewStoreById',\n        'callFindStoresAction',\n        'getStoreLatitude',\n        'getStoreLongitude',\n        'getDirections',\n        'getFindStoreEntityById',\n      ],\n      async: true,\n    }),\n})\nexport abstract class StoreFinderFacade {\n  abstract getStoresLoading(): Observable<boolean>;\n  abstract getStoresLoaded(): Observable<boolean>;\n  abstract getFindStoresEntities(): Observable<StoreEntities>;\n  abstract getViewAllStoresLoading(): Observable<boolean>;\n  abstract getViewAllStoresEntities(): Observable<StoreEntities>;\n  abstract findStoresAction(\n    queryText: string,\n    searchConfig?: SearchConfig,\n    longitudeLatitude?: GeoPoint,\n    countryIsoCode?: string,\n    useMyLocation?: boolean,\n    radius?: number\n  ): void;\n  abstract viewAllStores(): void;\n  abstract viewStoreById(storeId: string): void;\n  abstract callFindStoresAction(routeParams: { [key: string]: string }): void;\n  abstract getStoreLatitude(location: PointOfService): number | undefined;\n  abstract getStoreLongitude(location: PointOfService): number | undefined;\n  abstract getDirections(location: PointOfService): string;\n  abstract getFindStoreEntityById(): Observable<StoreEntities>;\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './store-finder.facade';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { PointOfService } from '@spartacus/core';\n\nexport enum StoreFinderOutlets {\n  PREFERRED_STORE = 'cx-pick-up-in-store-make-my-store',\n}\n\nexport interface StoreEntities {\n  pointOfServices?: Array<PointOfService>;\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './store-entities.model';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { NgModule } from '@angular/core';\nimport {\n  CmsConfig,\n  provideDefaultConfig,\n  provideDefaultConfigFactory,\n} from '@spartacus/core';\nimport { defaultStoreFinderLayoutConfig } from './config/default-store-finder-layout-config';\nimport { STORE_FINDER_FEATURE } from './feature-name';\n\n// TODO: Inline this factory when we start releasing Ivy compiled libraries\nexport function defaultStoreFinderComponentsConfig(): CmsConfig {\n  const config: CmsConfig = {\n    featureModules: {\n      [STORE_FINDER_FEATURE]: {\n        cmsComponents: ['StoreFinderComponent'],\n      },\n    },\n  };\n\n  return config;\n}\n\n@NgModule({\n  declarations: [],\n  providers: [\n    provideDefaultConfig(defaultStoreFinderLayoutConfig),\n    provideDefaultConfigFactory(defaultStoreFinderComponentsConfig),\n  ],\n})\nexport class StoreFinderRootModule {}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './config/index';\nexport * from './facade/index';\nexport * from './feature-name';\nexport * from './model/index';\nexport * from './store-finder-root.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}