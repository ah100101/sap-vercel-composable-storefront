/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { PageType } from '../../model/cms.model';
export const CURRENT_CONTEXT_KEY = 'current';
/**
 *
 * Serializes the provided page context.
 * The pattern used for serialization is: `pageContext.type-pageContext.id`.
 *
 * @param pageContext to serialize
 * @param ignoreContentPageId if set to true, and the PageType is of type ContentPage, then the serialized page context will not contain the ID.
 * Otherwise, the page context if fully serialized.
 */
export function serializePageContext(pageContext, ignoreContentPageId) {
    if (!pageContext) {
        return CURRENT_CONTEXT_KEY;
    }
    if (ignoreContentPageId && pageContext.type === PageType.CONTENT_PAGE) {
        return `${pageContext.type}`;
    }
    return `${pageContext.type}-${pageContext.id}`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY21zLXV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY29yZS9zcmMvY21zL3V0aWxzL2Ntcy11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBR2pELE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLFNBQVMsQ0FBQztBQUU3Qzs7Ozs7Ozs7R0FRRztBQUNILE1BQU0sVUFBVSxvQkFBb0IsQ0FDbEMsV0FBb0MsRUFDcEMsbUJBQTZCO0lBRTdCLElBQUksQ0FBQyxXQUFXLEVBQUU7UUFDaEIsT0FBTyxtQkFBbUIsQ0FBQztLQUM1QjtJQUVELElBQUksbUJBQW1CLElBQUksV0FBVyxDQUFDLElBQUksS0FBSyxRQUFRLENBQUMsWUFBWSxFQUFFO1FBQ3JFLE9BQU8sR0FBRyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7S0FDOUI7SUFFRCxPQUFPLEdBQUcsV0FBVyxDQUFDLElBQUksSUFBSSxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUM7QUFDakQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IFBhZ2VUeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvY21zLm1vZGVsJztcbmltcG9ydCB7IFBhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vcm91dGluZy9tb2RlbHMvcGFnZS1jb250ZXh0Lm1vZGVsJztcblxuZXhwb3J0IGNvbnN0IENVUlJFTlRfQ09OVEVYVF9LRVkgPSAnY3VycmVudCc7XG5cbi8qKlxuICpcbiAqIFNlcmlhbGl6ZXMgdGhlIHByb3ZpZGVkIHBhZ2UgY29udGV4dC5cbiAqIFRoZSBwYXR0ZXJuIHVzZWQgZm9yIHNlcmlhbGl6YXRpb24gaXM6IGBwYWdlQ29udGV4dC50eXBlLXBhZ2VDb250ZXh0LmlkYC5cbiAqXG4gKiBAcGFyYW0gcGFnZUNvbnRleHQgdG8gc2VyaWFsaXplXG4gKiBAcGFyYW0gaWdub3JlQ29udGVudFBhZ2VJZCBpZiBzZXQgdG8gdHJ1ZSwgYW5kIHRoZSBQYWdlVHlwZSBpcyBvZiB0eXBlIENvbnRlbnRQYWdlLCB0aGVuIHRoZSBzZXJpYWxpemVkIHBhZ2UgY29udGV4dCB3aWxsIG5vdCBjb250YWluIHRoZSBJRC5cbiAqIE90aGVyd2lzZSwgdGhlIHBhZ2UgY29udGV4dCBpZiBmdWxseSBzZXJpYWxpemVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplUGFnZUNvbnRleHQoXG4gIHBhZ2VDb250ZXh0OiBQYWdlQ29udGV4dCB8IHVuZGVmaW5lZCxcbiAgaWdub3JlQ29udGVudFBhZ2VJZD86IGJvb2xlYW5cbik6IHN0cmluZyB7XG4gIGlmICghcGFnZUNvbnRleHQpIHtcbiAgICByZXR1cm4gQ1VSUkVOVF9DT05URVhUX0tFWTtcbiAgfVxuXG4gIGlmIChpZ25vcmVDb250ZW50UGFnZUlkICYmIHBhZ2VDb250ZXh0LnR5cGUgPT09IFBhZ2VUeXBlLkNPTlRFTlRfUEFHRSkge1xuICAgIHJldHVybiBgJHtwYWdlQ29udGV4dC50eXBlfWA7XG4gIH1cblxuICByZXR1cm4gYCR7cGFnZUNvbnRleHQudHlwZX0tJHtwYWdlQ29udGV4dC5pZH1gO1xufVxuIl19