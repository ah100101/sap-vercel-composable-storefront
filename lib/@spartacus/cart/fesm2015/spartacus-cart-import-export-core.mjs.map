{"version":3,"file":"spartacus-cart-import-export-core.mjs","sources":["../../../feature-libs/cart/import-export/core/config/import-export-config.ts","../../../feature-libs/cart/import-export/core/model/import-entries.config.ts","../../../feature-libs/cart/import-export/core/config/default-import-export-config.ts","../../../feature-libs/cart/import-export/core/config/index.ts","../../../feature-libs/cart/import-export/core/import-export-core.module.ts","../../../feature-libs/cart/import-export/core/model/augmented-core.model.ts","../../../feature-libs/cart/import-export/core/model/index.ts","../../../feature-libs/cart/import-export/core/public_api.ts","../../../feature-libs/cart/import-export/core/spartacus-cart-import-export-core.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable } from '@angular/core';\nimport { Config } from '@spartacus/core';\nimport { ExportConfig } from '../model/export-entries.model';\nimport { ImportConfig } from '../model/import-entries.config';\n\n@Injectable({\n  providedIn: 'root',\n  useExisting: Config,\n})\nexport abstract class ImportExportConfig {\n  cartImportExport?: {\n    file: { separator: string };\n    import?: ImportConfig;\n    export: ExportConfig;\n  };\n}\n\ndeclare module '@spartacus/core' {\n  interface Config extends ImportExportConfig {}\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { OrderEntriesSource } from '@spartacus/cart/base/root';\n\n/**\n * Indicates from which source the new saved cart name\n * should be taken.\n */\nexport enum CartNameSource {\n  FILE_NAME = 'fileName',\n  DATE_TIME = 'dateTime',\n}\n\n/**\n * Specifies cart name generation details.\n */\nexport interface CartNameGeneration {\n  /**\n   *  If `source` is set as `DATE_TIME`, it means that by default\n   *  new saved cart name will be set as current date according to `fromDateOptions` property.\n   */\n  source?: CartNameSource;\n  fromDateOptions?: {\n    /**\n     * Adds text before the import date.\n     */\n    prefix?: string;\n\n    /**\n     * Adds text after the import date.\n     */\n    suffix?: string;\n\n    /**\n     * Transforms current date according to specified format.\n     */\n    mask?: string;\n  };\n}\n\n/**\n * Allows to specify file validation attributes.\n */\nexport interface FileValidity {\n  /**\n   * Maximum imported file size in megabytes.\n   */\n  maxSize?: number;\n\n  /**\n   * Maximum number for imported entries per place specified as key from `OrderEntriesSource`.\n   */\n  maxEntries?: {\n    [key in OrderEntriesSource]?: number;\n  };\n\n  /**\n   * String array with file types/extensions allowed for import.\n   */\n  allowedTypes?: string[];\n}\n/**\n * Interface for import config.\n */\nexport interface ImportConfig {\n  fileValidity?: FileValidity;\n  cartNameGeneration?: CartNameGeneration;\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { OrderEntriesSource } from '@spartacus/cart/base/root';\nimport { CartNameSource } from '../model/import-entries.config';\nimport { ImportExportConfig } from './import-export-config';\n\nexport const defaultImportExportConfig: ImportExportConfig = {\n  cartImportExport: {\n    file: {\n      separator: ',',\n    },\n    import: {\n      fileValidity: {\n        maxSize: 1,\n        maxEntries: {\n          [OrderEntriesSource.NEW_SAVED_CART]: 100,\n          [OrderEntriesSource.SAVED_CART]: 100,\n          [OrderEntriesSource.ACTIVE_CART]: 10,\n          [OrderEntriesSource.QUICK_ORDER]: 10,\n        },\n        allowedTypes: [\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n          'application/vnd.ms-excel',\n          'text/csv',\n          '.csv',\n        ],\n      },\n      cartNameGeneration: {\n        source: CartNameSource.FILE_NAME,\n      },\n    },\n    export: {\n      additionalColumns: [\n        {\n          name: {\n            key: 'name',\n          },\n          value: 'product.name',\n        },\n        {\n          name: {\n            key: 'price',\n          },\n          value: 'totalPrice.formattedValue',\n        },\n      ],\n      messageEnabled: true,\n      downloadDelay: 1000,\n      maxEntries: 1000,\n      fileOptions: {\n        fileName: 'cart',\n        extension: 'csv',\n        type: 'text/csv',\n      },\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './import-export-config';\nexport * from './default-import-export-config';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { provideDefaultConfig } from '@spartacus/core';\nimport { defaultImportExportConfig } from './config/default-import-export-config';\n\n@NgModule({})\nexport class ImportExportCoreModule {\n  static forRoot(): ModuleWithProviders<ImportExportCoreModule> {\n    return {\n      ngModule: ImportExportCoreModule,\n      providers: [provideDefaultConfig(defaultImportExportConfig)],\n    };\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport '@spartacus/storefront';\n\ndeclare module '@spartacus/storefront' {\n  const enum LAUNCH_CALLER {\n    IMPORT_TO_CART = 'IMPORT_TO_CART',\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './augmented-core.model';\nexport * from './export-entries.model';\nexport * from './import-entries.config';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './config/index';\nexport * from './import-export-core.module';\nexport * from './model/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}