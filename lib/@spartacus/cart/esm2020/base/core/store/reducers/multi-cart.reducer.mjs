/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { CartType } from '@spartacus/cart/base/root';
import { CartActions } from '../actions/index';
export const cartTypeIndexInitialState = { [CartType.ACTIVE]: '' };
export function cartTypeIndexReducer(state = cartTypeIndexInitialState, action) {
    switch (action.type) {
        case CartActions.SET_CART_TYPE_INDEX:
            return {
                ...state,
                [action.payload.cartType]: action.payload.cartId,
            };
        case CartActions.REMOVE_CART:
        case CartActions.DELETE_CART_SUCCESS: {
            if (action.payload?.cartId === state[CartType.ACTIVE]) {
                return {
                    ...state,
                    [CartType.ACTIVE]: '',
                };
            }
            return state;
        }
        case CartActions.CLEAR_CART_STATE:
            return cartTypeIndexInitialState;
    }
    return state;
}
export const cartEntitiesInitialState = undefined;
export function cartEntitiesReducer(state = cartEntitiesInitialState, action) {
    switch (action.type) {
        case CartActions.LOAD_CARTS_SUCCESS:
            return action.payload;
        case CartActions.LOAD_CART_SUCCESS:
        case CartActions.CREATE_CART_SUCCESS:
        case CartActions.SET_CART_DATA:
            return action.payload.cart;
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGktY2FydC5yZWR1Y2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2NhcnQvYmFzZS9jb3JlL3N0b3JlL3JlZHVjZXJzL211bHRpLWNhcnQucmVkdWNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUFRLFFBQVEsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBRTNELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUUvQyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO0FBQ25FLE1BQU0sVUFBVSxvQkFBb0IsQ0FDbEMsUUFFSSx5QkFBeUIsRUFDN0IsTUFBNkQ7SUFJN0QsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssV0FBVyxDQUFDLG1CQUFtQjtZQUNsQyxPQUFPO2dCQUNMLEdBQUcsS0FBSztnQkFDUixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFnQjthQUMzRCxDQUFDO1FBQ0osS0FBSyxXQUFXLENBQUMsV0FBVyxDQUFDO1FBQzdCLEtBQUssV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDcEMsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUNyRCxPQUFPO29CQUNMLEdBQUcsS0FBSztvQkFDUixDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFO2lCQUN0QixDQUFDO2FBQ0g7WUFDRCxPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsS0FBSyxXQUFXLENBQUMsZ0JBQWdCO1lBQy9CLE9BQU8seUJBQXlCLENBQUM7S0FDcEM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxTQUFTLENBQUM7QUFDbEQsTUFBTSxVQUFVLG1CQUFtQixDQUNqQyxRQUEwQix3QkFBd0IsRUFDbEQsTUFBK0I7SUFFL0IsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssV0FBVyxDQUFDLGtCQUFrQjtZQUNqQyxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFFeEIsS0FBSyxXQUFXLENBQUMsaUJBQWlCLENBQUM7UUFDbkMsS0FBSyxXQUFXLENBQUMsbUJBQW1CLENBQUM7UUFDckMsS0FBSyxXQUFXLENBQUMsYUFBYTtZQUM1QixPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO0tBQzlCO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMjMgU0FQIFNwYXJ0YWN1cyB0ZWFtIDxzcGFydGFjdXMtdGVhbUBzYXAuY29tPlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHsgQ2FydCwgQ2FydFR5cGUgfSBmcm9tICdAc3BhcnRhY3VzL2NhcnQvYmFzZS9yb290JztcbmltcG9ydCB7IFN0YXRlVXRpbHMgfSBmcm9tICdAc3BhcnRhY3VzL2NvcmUnO1xuaW1wb3J0IHsgQ2FydEFjdGlvbnMgfSBmcm9tICcuLi9hY3Rpb25zL2luZGV4JztcblxuZXhwb3J0IGNvbnN0IGNhcnRUeXBlSW5kZXhJbml0aWFsU3RhdGUgPSB7IFtDYXJ0VHlwZS5BQ1RJVkVdOiAnJyB9O1xuZXhwb3J0IGZ1bmN0aW9uIGNhcnRUeXBlSW5kZXhSZWR1Y2VyKFxuICBzdGF0ZToge1xuICAgIFtjYXJ0VHlwZTogc3RyaW5nXTogc3RyaW5nO1xuICB9ID0gY2FydFR5cGVJbmRleEluaXRpYWxTdGF0ZSxcbiAgYWN0aW9uOiBDYXJ0QWN0aW9ucy5NdWx0aUNhcnRBY3Rpb25zIHwgQ2FydEFjdGlvbnMuQ2FydEFjdGlvblxuKToge1xuICBbY2FydFR5cGU6IHN0cmluZ106IHN0cmluZztcbn0ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5TRVRfQ0FSVF9UWVBFX0lOREVYOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIFthY3Rpb24ucGF5bG9hZC5jYXJ0VHlwZV06IGFjdGlvbi5wYXlsb2FkLmNhcnRJZCBhcyBzdHJpbmcsXG4gICAgICB9O1xuICAgIGNhc2UgQ2FydEFjdGlvbnMuUkVNT1ZFX0NBUlQ6XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5ERUxFVEVfQ0FSVF9TVUNDRVNTOiB7XG4gICAgICBpZiAoYWN0aW9uLnBheWxvYWQ/LmNhcnRJZCA9PT0gc3RhdGVbQ2FydFR5cGUuQUNUSVZFXSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIFtDYXJ0VHlwZS5BQ1RJVkVdOiAnJyxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5DTEVBUl9DQVJUX1NUQVRFOlxuICAgICAgcmV0dXJuIGNhcnRUeXBlSW5kZXhJbml0aWFsU3RhdGU7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgY29uc3QgY2FydEVudGl0aWVzSW5pdGlhbFN0YXRlID0gdW5kZWZpbmVkO1xuZXhwb3J0IGZ1bmN0aW9uIGNhcnRFbnRpdGllc1JlZHVjZXIoXG4gIHN0YXRlOiBDYXJ0IHwgdW5kZWZpbmVkID0gY2FydEVudGl0aWVzSW5pdGlhbFN0YXRlLFxuICBhY3Rpb246IFN0YXRlVXRpbHMuTG9hZGVyQWN0aW9uXG4pOiBDYXJ0IHwgdW5kZWZpbmVkIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQ2FydEFjdGlvbnMuTE9BRF9DQVJUU19TVUNDRVNTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkO1xuXG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5MT0FEX0NBUlRfU1VDQ0VTUzpcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNSRUFURV9DQVJUX1NVQ0NFU1M6XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5TRVRfQ0FSVF9EQVRBOlxuICAgICAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkLmNhcnQ7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuIl19