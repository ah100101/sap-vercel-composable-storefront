/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component, Input } from '@angular/core';
import { ICON_TYPE } from '@spartacus/storefront';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/cart/base/root";
import * as i2 from "@angular/common";
import * as i3 from "@spartacus/storefront";
import * as i4 from "@spartacus/core";
export class AppliedCouponsComponent {
    constructor(cartVoucherService) {
        this.cartVoucherService = cartVoucherService;
        this.cartIsLoading = false;
        this.isReadOnly = false;
        this.iconTypes = ICON_TYPE;
    }
    get sortedVouchers() {
        this.vouchers = this.vouchers || [];
        return this.vouchers.slice().sort((a, b) => {
            return a.code && b.code ? a.code.localeCompare(b.code) : 0;
        });
    }
    removeVoucher(voucherId) {
        this.cartVoucherService.removeVoucher(voucherId);
    }
}
AppliedCouponsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: AppliedCouponsComponent, deps: [{ token: i1.CartVoucherFacade }], target: i0.ɵɵFactoryTarget.Component });
AppliedCouponsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.4", type: AppliedCouponsComponent, selector: "cx-applied-coupons", inputs: { vouchers: "vouchers", cartIsLoading: "cartIsLoading", isReadOnly: "isReadOnly" }, ngImport: i0, template: "<div *ngIf=\"isReadOnly; else editableCoupons\">\n  <div *ngIf=\"sortedVouchers.length > 0\">\n    <div class=\"cx-applied-coupon-title\">\n      {{ 'voucher.vouchersApplied' | cxTranslate }}\n    </div>\n  </div>\n  <ng-container>\n    <div\n      *ngFor=\"let voucher of sortedVouchers\"\n      class=\"coupon-summary cx-coupon-card textonly\"\n    >\n      <span class=\"cx-applied-coupon-code\">{{ voucher.voucherCode }}</span>\n    </div>\n  </ng-container>\n</div>\n\n<ng-template #editableCoupons>\n  <div class=\"row\">\n    <ng-container>\n      <div\n        *ngFor=\"let voucher of sortedVouchers\"\n        class=\"col-sm-12 col-md-6 col-lg-12 cx-coupon-card-grid\"\n      >\n        <div class=\"cx-coupon-apply cx-coupon-card cx-coupon-list-wrap\">\n          <span class=\"cx-cart-coupon-code\">{{ voucher.voucherCode }}</span>\n          <button\n            type=\"button\"\n            class=\"close\"\n            [attr.aria-label]=\"'common.close' | cxTranslate\"\n            (click)=\"removeVoucher(voucher.voucherCode)\"\n            [disabled]=\"cartIsLoading\"\n            [class.disabled]=\"cartIsLoading\"\n          >\n            <span aria-hidden=\"true\">\n              <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n            </span>\n          </button>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.IconComponent, selector: "cx-icon,[cxIcon]", inputs: ["cxIcon", "type"] }, { kind: "pipe", type: i4.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: AppliedCouponsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-applied-coupons', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div *ngIf=\"isReadOnly; else editableCoupons\">\n  <div *ngIf=\"sortedVouchers.length > 0\">\n    <div class=\"cx-applied-coupon-title\">\n      {{ 'voucher.vouchersApplied' | cxTranslate }}\n    </div>\n  </div>\n  <ng-container>\n    <div\n      *ngFor=\"let voucher of sortedVouchers\"\n      class=\"coupon-summary cx-coupon-card textonly\"\n    >\n      <span class=\"cx-applied-coupon-code\">{{ voucher.voucherCode }}</span>\n    </div>\n  </ng-container>\n</div>\n\n<ng-template #editableCoupons>\n  <div class=\"row\">\n    <ng-container>\n      <div\n        *ngFor=\"let voucher of sortedVouchers\"\n        class=\"col-sm-12 col-md-6 col-lg-12 cx-coupon-card-grid\"\n      >\n        <div class=\"cx-coupon-apply cx-coupon-card cx-coupon-list-wrap\">\n          <span class=\"cx-cart-coupon-code\">{{ voucher.voucherCode }}</span>\n          <button\n            type=\"button\"\n            class=\"close\"\n            [attr.aria-label]=\"'common.close' | cxTranslate\"\n            (click)=\"removeVoucher(voucher.voucherCode)\"\n            [disabled]=\"cartIsLoading\"\n            [class.disabled]=\"cartIsLoading\"\n          >\n            <span aria-hidden=\"true\">\n              <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n            </span>\n          </button>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i1.CartVoucherFacade }]; }, propDecorators: { vouchers: [{
                type: Input
            }], cartIsLoading: [{
                type: Input
            }], isReadOnly: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGllZC1jb3Vwb25zLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9jYXJ0L2Jhc2UvY29tcG9uZW50cy9jYXJ0LWNvdXBvbi9hcHBsaWVkLWNvdXBvbnMvYXBwbGllZC1jb3Vwb25zLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9jYXJ0L2Jhc2UvY29tcG9uZW50cy9jYXJ0LWNvdXBvbi9hcHBsaWVkLWNvdXBvbnMvYXBwbGllZC1jb3Vwb25zLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUxRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7Ozs7OztBQU9sRCxNQUFNLE9BQU8sdUJBQXVCO0lBVWxDLFlBQXNCLGtCQUFxQztRQUFyQyx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQW1CO1FBTjNELGtCQUFhLEdBQUcsS0FBSyxDQUFDO1FBRXRCLGVBQVUsR0FBRyxLQUFLLENBQUM7UUFFbkIsY0FBUyxHQUFHLFNBQVMsQ0FBQztJQUV3QyxDQUFDO0lBRS9ELElBQVcsY0FBYztRQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDO1FBQ3BDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDekMsT0FBTyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGFBQWEsQ0FBQyxTQUFpQjtRQUM3QixJQUFJLENBQUMsa0JBQWtCLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ25ELENBQUM7O29IQXJCVSx1QkFBdUI7d0dBQXZCLHVCQUF1QixzSkNmcEMsNDFDQTBDQTsyRkQzQmEsdUJBQXVCO2tCQUxuQyxTQUFTOytCQUNFLG9CQUFvQixtQkFFYix1QkFBdUIsQ0FBQyxNQUFNO3dHQUkvQyxRQUFRO3NCQURQLEtBQUs7Z0JBR04sYUFBYTtzQkFEWixLQUFLO2dCQUdOLFVBQVU7c0JBRFQsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDYXJ0Vm91Y2hlckZhY2FkZSwgVm91Y2hlciB9IGZyb20gJ0BzcGFydGFjdXMvY2FydC9iYXNlL3Jvb3QnO1xuaW1wb3J0IHsgSUNPTl9UWVBFIH0gZnJvbSAnQHNwYXJ0YWN1cy9zdG9yZWZyb250JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtYXBwbGllZC1jb3Vwb25zJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FwcGxpZWQtY291cG9ucy5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBBcHBsaWVkQ291cG9uc0NvbXBvbmVudCB7XG4gIEBJbnB1dCgpXG4gIHZvdWNoZXJzOiBWb3VjaGVyW107XG4gIEBJbnB1dCgpXG4gIGNhcnRJc0xvYWRpbmcgPSBmYWxzZTtcbiAgQElucHV0KClcbiAgaXNSZWFkT25seSA9IGZhbHNlO1xuXG4gIGljb25UeXBlcyA9IElDT05fVFlQRTtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgY2FydFZvdWNoZXJTZXJ2aWNlOiBDYXJ0Vm91Y2hlckZhY2FkZSkge31cblxuICBwdWJsaWMgZ2V0IHNvcnRlZFZvdWNoZXJzKCk6IFZvdWNoZXJbXSB7XG4gICAgdGhpcy52b3VjaGVycyA9IHRoaXMudm91Y2hlcnMgfHwgW107XG4gICAgcmV0dXJuIHRoaXMudm91Y2hlcnMuc2xpY2UoKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICByZXR1cm4gYS5jb2RlICYmIGIuY29kZSA/IGEuY29kZS5sb2NhbGVDb21wYXJlKGIuY29kZSkgOiAwO1xuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlVm91Y2hlcih2b3VjaGVySWQ6IHN0cmluZykge1xuICAgIHRoaXMuY2FydFZvdWNoZXJTZXJ2aWNlLnJlbW92ZVZvdWNoZXIodm91Y2hlcklkKTtcbiAgfVxufVxuIiwiPGRpdiAqbmdJZj1cImlzUmVhZE9ubHk7IGVsc2UgZWRpdGFibGVDb3Vwb25zXCI+XG4gIDxkaXYgKm5nSWY9XCJzb3J0ZWRWb3VjaGVycy5sZW5ndGggPiAwXCI+XG4gICAgPGRpdiBjbGFzcz1cImN4LWFwcGxpZWQtY291cG9uLXRpdGxlXCI+XG4gICAgICB7eyAndm91Y2hlci52b3VjaGVyc0FwcGxpZWQnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxuZy1jb250YWluZXI+XG4gICAgPGRpdlxuICAgICAgKm5nRm9yPVwibGV0IHZvdWNoZXIgb2Ygc29ydGVkVm91Y2hlcnNcIlxuICAgICAgY2xhc3M9XCJjb3Vwb24tc3VtbWFyeSBjeC1jb3Vwb24tY2FyZCB0ZXh0b25seVwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjeC1hcHBsaWVkLWNvdXBvbi1jb2RlXCI+e3sgdm91Y2hlci52b3VjaGVyQ29kZSB9fTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9uZy1jb250YWluZXI+XG48L2Rpdj5cblxuPG5nLXRlbXBsYXRlICNlZGl0YWJsZUNvdXBvbnM+XG4gIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICA8bmctY29udGFpbmVyPlxuICAgICAgPGRpdlxuICAgICAgICAqbmdGb3I9XCJsZXQgdm91Y2hlciBvZiBzb3J0ZWRWb3VjaGVyc1wiXG4gICAgICAgIGNsYXNzPVwiY29sLXNtLTEyIGNvbC1tZC02IGNvbC1sZy0xMiBjeC1jb3Vwb24tY2FyZC1ncmlkXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzcz1cImN4LWNvdXBvbi1hcHBseSBjeC1jb3Vwb24tY2FyZCBjeC1jb3Vwb24tbGlzdC13cmFwXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJjeC1jYXJ0LWNvdXBvbi1jb2RlXCI+e3sgdm91Y2hlci52b3VjaGVyQ29kZSB9fTwvc3Bhbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzPVwiY2xvc2VcIlxuICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCInY29tbW9uLmNsb3NlJyB8IGN4VHJhbnNsYXRlXCJcbiAgICAgICAgICAgIChjbGljayk9XCJyZW1vdmVWb3VjaGVyKHZvdWNoZXIudm91Y2hlckNvZGUpXCJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJjYXJ0SXNMb2FkaW5nXCJcbiAgICAgICAgICAgIFtjbGFzcy5kaXNhYmxlZF09XCJjYXJ0SXNMb2FkaW5nXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgPGN4LWljb24gW3R5cGVdPVwiaWNvblR5cGVzLkNMT1NFXCI+PC9jeC1pY29uPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbmctY29udGFpbmVyPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=