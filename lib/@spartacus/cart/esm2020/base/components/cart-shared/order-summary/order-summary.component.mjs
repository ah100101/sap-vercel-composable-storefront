/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component, Input, Optional } from '@angular/core';
import { Subscription } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/storefront";
import * as i2 from "../../cart-coupon/applied-coupons/applied-coupons.component";
import * as i3 from "@angular/common";
import * as i4 from "@spartacus/core";
export class OrderSummaryComponent {
    constructor(outlet) {
        this.outlet = outlet;
        this.subscription = new Subscription();
    }
    ngOnInit() {
        if (this.outlet?.context$) {
            this.subscription.add(this.outlet.context$.subscribe((context) => (this.cart = context)));
        }
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
}
OrderSummaryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: OrderSummaryComponent, deps: [{ token: i1.OutletContextData, optional: true }], target: i0.ɵɵFactoryTarget.Component });
OrderSummaryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.4", type: OrderSummaryComponent, selector: "cx-order-summary", inputs: { cart: "cart" }, ngImport: i0, template: "<div class=\"cx-summary-heading\">\n  {{ 'orderCost.orderSummary' | cxTranslate }}\n</div>\n\n<div class=\"cx-summary-partials\" *ngIf=\"cart\">\n  <div class=\"cx-summary-row\">\n    <div class=\"col-6 cx-summary-label\">\n      {{ 'orderCost.subtotal' | cxTranslate }}\n    </div>\n    <div class=\"col-6 cx-summary-amount\">\n      {{ cart.subTotal?.formattedValue }}\n    </div>\n  </div>\n  <div class=\"cx-summary-row\">\n    <div class=\"col-6 cx-summary-label\">\n      {{\n        (cart.deliveryCost?.formattedValue\n          ? 'orderCost.shipping'\n          : 'orderCost.estimatedShipping'\n        ) | cxTranslate\n      }}\n    </div>\n    <div class=\"col-6 cx-summary-amount\">\n      {{\n        cart.deliveryCost?.formattedValue\n          ? cart.deliveryCost?.formattedValue\n          : ('orderCost.toBeDetermined' | cxTranslate)\n      }}\n    </div>\n  </div>\n  <div class=\"cx-summary-row\" *ngIf=\"cart.net; else cartWithoutNet\">\n    <div class=\"col-6 cx-summary-label\">\n      {{ 'orderCost.salesTax' | cxTranslate }}\n    </div>\n    <div class=\"col-6 cx-summary-amount\">\n      {{ cart.totalTax?.formattedValue }}\n    </div>\n  </div>\n  <div class=\"cx-summary-row cx-summary-total\">\n    <div class=\"col-6 cx-summary-label\">\n      {{ 'orderCost.total' | cxTranslate }}\n    </div>\n    <div class=\"col-6 cx-summary-amount\">\n      {{ cart.totalPriceWithTax?.formattedValue }}\n    </div>\n  </div>\n  <div class=\"cx-summary-row\" *ngIf=\"cart.totalDiscounts?.value > 0\">\n    {{ 'orderCost.discount' | cxTranslate }}\n    {{ cart.totalDiscounts?.formattedValue }}\n  </div>\n  <ng-template #cartWithoutNet>\n    <div class=\"cx-summary-row\">\n      {{\n        cart.totalPriceWithTax?.value !== cart.totalPrice?.value\n          ? ('orderCost.grossTax' | cxTranslate)\n          : ('orderCost.grossIncludeTax' | cxTranslate)\n      }}\n      {{ cart.totalTax?.formattedValue }}.\n    </div>\n  </ng-template>\n</div>\n\n<cx-applied-coupons\n  [vouchers]=\"cart.appliedVouchers\"\n  [isReadOnly]=\"true\"\n></cx-applied-coupons>\n", dependencies: [{ kind: "component", type: i2.AppliedCouponsComponent, selector: "cx-applied-coupons", inputs: ["vouchers", "cartIsLoading", "isReadOnly"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i4.TranslatePipe, name: "cxTranslate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: OrderSummaryComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-order-summary', template: "<div class=\"cx-summary-heading\">\n  {{ 'orderCost.orderSummary' | cxTranslate }}\n</div>\n\n<div class=\"cx-summary-partials\" *ngIf=\"cart\">\n  <div class=\"cx-summary-row\">\n    <div class=\"col-6 cx-summary-label\">\n      {{ 'orderCost.subtotal' | cxTranslate }}\n    </div>\n    <div class=\"col-6 cx-summary-amount\">\n      {{ cart.subTotal?.formattedValue }}\n    </div>\n  </div>\n  <div class=\"cx-summary-row\">\n    <div class=\"col-6 cx-summary-label\">\n      {{\n        (cart.deliveryCost?.formattedValue\n          ? 'orderCost.shipping'\n          : 'orderCost.estimatedShipping'\n        ) | cxTranslate\n      }}\n    </div>\n    <div class=\"col-6 cx-summary-amount\">\n      {{\n        cart.deliveryCost?.formattedValue\n          ? cart.deliveryCost?.formattedValue\n          : ('orderCost.toBeDetermined' | cxTranslate)\n      }}\n    </div>\n  </div>\n  <div class=\"cx-summary-row\" *ngIf=\"cart.net; else cartWithoutNet\">\n    <div class=\"col-6 cx-summary-label\">\n      {{ 'orderCost.salesTax' | cxTranslate }}\n    </div>\n    <div class=\"col-6 cx-summary-amount\">\n      {{ cart.totalTax?.formattedValue }}\n    </div>\n  </div>\n  <div class=\"cx-summary-row cx-summary-total\">\n    <div class=\"col-6 cx-summary-label\">\n      {{ 'orderCost.total' | cxTranslate }}\n    </div>\n    <div class=\"col-6 cx-summary-amount\">\n      {{ cart.totalPriceWithTax?.formattedValue }}\n    </div>\n  </div>\n  <div class=\"cx-summary-row\" *ngIf=\"cart.totalDiscounts?.value > 0\">\n    {{ 'orderCost.discount' | cxTranslate }}\n    {{ cart.totalDiscounts?.formattedValue }}\n  </div>\n  <ng-template #cartWithoutNet>\n    <div class=\"cx-summary-row\">\n      {{\n        cart.totalPriceWithTax?.value !== cart.totalPrice?.value\n          ? ('orderCost.grossTax' | cxTranslate)\n          : ('orderCost.grossIncludeTax' | cxTranslate)\n      }}\n      {{ cart.totalTax?.formattedValue }}.\n    </div>\n  </ng-template>\n</div>\n\n<cx-applied-coupons\n  [vouchers]=\"cart.appliedVouchers\"\n  [isReadOnly]=\"true\"\n></cx-applied-coupons>\n" }]
        }], ctorParameters: function () { return [{ type: i1.OutletContextData, decorators: [{
                    type: Optional
                }] }]; }, propDecorators: { cart: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JkZXItc3VtbWFyeS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvY2FydC9iYXNlL2NvbXBvbmVudHMvY2FydC1zaGFyZWQvb3JkZXItc3VtbWFyeS9vcmRlci1zdW1tYXJ5LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9jYXJ0L2Jhc2UvY29tcG9uZW50cy9jYXJ0LXNoYXJlZC9vcmRlci1zdW1tYXJ5L29yZGVyLXN1bW1hcnkuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFxQixRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHOUUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQzs7Ozs7O0FBTXBDLE1BQU0sT0FBTyxxQkFBcUI7SUFNaEMsWUFBa0MsTUFBK0I7UUFBL0IsV0FBTSxHQUFOLE1BQU0sQ0FBeUI7UUFGdkQsaUJBQVksR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0lBRXdCLENBQUM7SUFFckUsUUFBUTtRQUNOLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUU7WUFDekIsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQ25CLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQ25FLENBQUM7U0FDSDtJQUNILENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNsQyxDQUFDOztrSEFsQlUscUJBQXFCO3NHQUFyQixxQkFBcUIsa0ZDZmxDLDZoRUFrRUE7MkZEbkRhLHFCQUFxQjtrQkFKakMsU0FBUzsrQkFDRSxrQkFBa0I7OzBCQVNmLFFBQVE7NENBSnJCLElBQUk7c0JBREgsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LCBPcHRpb25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ2FydCB9IGZyb20gJ0BzcGFydGFjdXMvY2FydC9iYXNlL3Jvb3QnO1xuaW1wb3J0IHsgT3V0bGV0Q29udGV4dERhdGEgfSBmcm9tICdAc3BhcnRhY3VzL3N0b3JlZnJvbnQnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LW9yZGVyLXN1bW1hcnknLFxuICB0ZW1wbGF0ZVVybDogJy4vb3JkZXItc3VtbWFyeS5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIE9yZGVyU3VtbWFyeUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KClcbiAgY2FydDogQ2FydDtcblxuICBwcm90ZWN0ZWQgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIHByb3RlY3RlZCBvdXRsZXQ/OiBPdXRsZXRDb250ZXh0RGF0YTxhbnk+KSB7fVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm91dGxldD8uY29udGV4dCQpIHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLmFkZChcbiAgICAgICAgdGhpcy5vdXRsZXQuY29udGV4dCQuc3Vic2NyaWJlKChjb250ZXh0KSA9PiAodGhpcy5jYXJ0ID0gY29udGV4dCkpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJjeC1zdW1tYXJ5LWhlYWRpbmdcIj5cbiAge3sgJ29yZGVyQ29zdC5vcmRlclN1bW1hcnknIHwgY3hUcmFuc2xhdGUgfX1cbjwvZGl2PlxuXG48ZGl2IGNsYXNzPVwiY3gtc3VtbWFyeS1wYXJ0aWFsc1wiICpuZ0lmPVwiY2FydFwiPlxuICA8ZGl2IGNsYXNzPVwiY3gtc3VtbWFyeS1yb3dcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLTYgY3gtc3VtbWFyeS1sYWJlbFwiPlxuICAgICAge3sgJ29yZGVyQ29zdC5zdWJ0b3RhbCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBjeC1zdW1tYXJ5LWFtb3VudFwiPlxuICAgICAge3sgY2FydC5zdWJUb3RhbD8uZm9ybWF0dGVkVmFsdWUgfX1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJjeC1zdW1tYXJ5LXJvd1wiPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBjeC1zdW1tYXJ5LWxhYmVsXCI+XG4gICAgICB7e1xuICAgICAgICAoY2FydC5kZWxpdmVyeUNvc3Q/LmZvcm1hdHRlZFZhbHVlXG4gICAgICAgICAgPyAnb3JkZXJDb3N0LnNoaXBwaW5nJ1xuICAgICAgICAgIDogJ29yZGVyQ29zdC5lc3RpbWF0ZWRTaGlwcGluZydcbiAgICAgICAgKSB8IGN4VHJhbnNsYXRlXG4gICAgICB9fVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBjeC1zdW1tYXJ5LWFtb3VudFwiPlxuICAgICAge3tcbiAgICAgICAgY2FydC5kZWxpdmVyeUNvc3Q/LmZvcm1hdHRlZFZhbHVlXG4gICAgICAgICAgPyBjYXJ0LmRlbGl2ZXJ5Q29zdD8uZm9ybWF0dGVkVmFsdWVcbiAgICAgICAgICA6ICgnb3JkZXJDb3N0LnRvQmVEZXRlcm1pbmVkJyB8IGN4VHJhbnNsYXRlKVxuICAgICAgfX1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJjeC1zdW1tYXJ5LXJvd1wiICpuZ0lmPVwiY2FydC5uZXQ7IGVsc2UgY2FydFdpdGhvdXROZXRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLTYgY3gtc3VtbWFyeS1sYWJlbFwiPlxuICAgICAge3sgJ29yZGVyQ29zdC5zYWxlc1RheCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBjeC1zdW1tYXJ5LWFtb3VudFwiPlxuICAgICAge3sgY2FydC50b3RhbFRheD8uZm9ybWF0dGVkVmFsdWUgfX1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJjeC1zdW1tYXJ5LXJvdyBjeC1zdW1tYXJ5LXRvdGFsXCI+XG4gICAgPGRpdiBjbGFzcz1cImNvbC02IGN4LXN1bW1hcnktbGFiZWxcIj5cbiAgICAgIHt7ICdvcmRlckNvc3QudG90YWwnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLTYgY3gtc3VtbWFyeS1hbW91bnRcIj5cbiAgICAgIHt7IGNhcnQudG90YWxQcmljZVdpdGhUYXg/LmZvcm1hdHRlZFZhbHVlIH19XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiY3gtc3VtbWFyeS1yb3dcIiAqbmdJZj1cImNhcnQudG90YWxEaXNjb3VudHM/LnZhbHVlID4gMFwiPlxuICAgIHt7ICdvcmRlckNvc3QuZGlzY291bnQnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICB7eyBjYXJ0LnRvdGFsRGlzY291bnRzPy5mb3JtYXR0ZWRWYWx1ZSB9fVxuICA8L2Rpdj5cbiAgPG5nLXRlbXBsYXRlICNjYXJ0V2l0aG91dE5ldD5cbiAgICA8ZGl2IGNsYXNzPVwiY3gtc3VtbWFyeS1yb3dcIj5cbiAgICAgIHt7XG4gICAgICAgIGNhcnQudG90YWxQcmljZVdpdGhUYXg/LnZhbHVlICE9PSBjYXJ0LnRvdGFsUHJpY2U/LnZhbHVlXG4gICAgICAgICAgPyAoJ29yZGVyQ29zdC5ncm9zc1RheCcgfCBjeFRyYW5zbGF0ZSlcbiAgICAgICAgICA6ICgnb3JkZXJDb3N0Lmdyb3NzSW5jbHVkZVRheCcgfCBjeFRyYW5zbGF0ZSlcbiAgICAgIH19XG4gICAgICB7eyBjYXJ0LnRvdGFsVGF4Py5mb3JtYXR0ZWRWYWx1ZSB9fS5cbiAgICA8L2Rpdj5cbiAgPC9uZy10ZW1wbGF0ZT5cbjwvZGl2PlxuXG48Y3gtYXBwbGllZC1jb3Vwb25zXG4gIFt2b3VjaGVyc109XCJjYXJ0LmFwcGxpZWRWb3VjaGVyc1wiXG4gIFtpc1JlYWRPbmx5XT1cInRydWVcIlxuPjwvY3gtYXBwbGllZC1jb3Vwb25zPlxuIl19