/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component, HostListener, } from '@angular/core';
import { ICON_TYPE } from '@spartacus/storefront';
import * as i0 from "@angular/core";
import * as i1 from "./clear-cart-dialog-component.service";
import * as i2 from "@angular/common";
import * as i3 from "@spartacus/storefront";
import * as i4 from "@spartacus/core";
export class ClearCartDialogComponent {
    handleClick(event) {
        // Close on click outside the dialog window
        if (event.target.tagName === this.el.nativeElement.tagName) {
            this.close('Cross click');
        }
    }
    constructor(el, clearCartDialogComponentService) {
        this.el = el;
        this.clearCartDialogComponentService = clearCartDialogComponentService;
        this.focusConfig = {
            trap: true,
            block: true,
            autofocus: 'button.btn-primary',
            focusOnEscape: true,
        };
        this.isClearing = false;
        this.iconTypes = ICON_TYPE;
    }
    clearCart() {
        this.isClearing = true;
        this.clearCartDialogComponentService.deleteActiveCart();
    }
    close(reason) {
        this.clearCartDialogComponentService.closeDialog(reason);
    }
    ngOnDestroy() {
        this.close('close dialog on component destroy');
    }
}
ClearCartDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: ClearCartDialogComponent, deps: [{ token: i0.ElementRef }, { token: i1.ClearCartDialogComponentService }], target: i0.ɵɵFactoryTarget.Component });
ClearCartDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.4", type: ClearCartDialogComponent, selector: "cx-clear-cart-dialog", host: { listeners: { "click": "handleClick($event)" } }, ngImport: i0, template: "<div\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"close('Escape clicked')\"\n  class=\"cx-clear-cart-dialog\"\n>\n  <div class=\"cx-clear-cart-container\">\n    <ng-container *ngIf=\"!isClearing; else loading\">\n      <div\n        role=\"status\"\n        [attr.aria-label]=\"'common.loaded' | cxTranslate\"\n      ></div>\n      <!-- Modal Header -->\n      <div class=\"modal-header cx-clear-cart-header\">\n        <div class=\"cx-clear-cart-title modal-title\">\n          {{ 'clearCart.clearCart' | cxTranslate }}\n        </div>\n\n        <button\n          (click)=\"close('Close Clear Cart Dialog')\"\n          [attr.aria-label]=\"'common.close' | cxTranslate\"\n          class=\"close\"\n          type=\"button\"\n        >\n          <span aria-hidden=\"true\">\n            <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n          </span>\n        </button>\n      </div>\n\n      <!-- Modal Body -->\n      <div class=\"cx-clear-cart-body\">\n        <div class=\"clear-cart-msg\">\n          {{ 'clearCart.allItemsWillBeRemoved' | cxTranslate }}\n        </div>\n        <div class=\"clear-cart-warning\" role=\"alert\">\n          {{ 'clearCart.areYouSureToClearCart' | cxTranslate }}\n        </div>\n        <div>\n          <div class=\"cx-clear-cart-footer\">\n            <button\n              (click)=\"close('Cancel Clear Cart')\"\n              class=\"btn btn-secondary\"\n              type=\"button\"\n            >\n              {{ 'common.cancel' | cxTranslate }}\n            </button>\n            <button (click)=\"clearCart()\" class=\"btn btn-primary\" type=\"button\">\n              {{ 'clearCart.clearCart' | cxTranslate }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template #loading>\n  <div class=\"modal-header cx-clear-cart-header\">\n    <div class=\"cx-clear-cart-title modal-title\">\n      {{ 'clearCart.clearingCart' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"cx-spinner\">\n    <cx-spinner></cx-spinner>\n  </div>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.SpinnerComponent, selector: "cx-spinner" }, { kind: "component", type: i3.IconComponent, selector: "cx-icon,[cxIcon]", inputs: ["cxIcon", "type"] }, { kind: "directive", type: i3.FocusDirective, selector: "[cxFocus]", inputs: ["cxFocus"] }, { kind: "pipe", type: i4.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: ClearCartDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-clear-cart-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"close('Escape clicked')\"\n  class=\"cx-clear-cart-dialog\"\n>\n  <div class=\"cx-clear-cart-container\">\n    <ng-container *ngIf=\"!isClearing; else loading\">\n      <div\n        role=\"status\"\n        [attr.aria-label]=\"'common.loaded' | cxTranslate\"\n      ></div>\n      <!-- Modal Header -->\n      <div class=\"modal-header cx-clear-cart-header\">\n        <div class=\"cx-clear-cart-title modal-title\">\n          {{ 'clearCart.clearCart' | cxTranslate }}\n        </div>\n\n        <button\n          (click)=\"close('Close Clear Cart Dialog')\"\n          [attr.aria-label]=\"'common.close' | cxTranslate\"\n          class=\"close\"\n          type=\"button\"\n        >\n          <span aria-hidden=\"true\">\n            <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n          </span>\n        </button>\n      </div>\n\n      <!-- Modal Body -->\n      <div class=\"cx-clear-cart-body\">\n        <div class=\"clear-cart-msg\">\n          {{ 'clearCart.allItemsWillBeRemoved' | cxTranslate }}\n        </div>\n        <div class=\"clear-cart-warning\" role=\"alert\">\n          {{ 'clearCart.areYouSureToClearCart' | cxTranslate }}\n        </div>\n        <div>\n          <div class=\"cx-clear-cart-footer\">\n            <button\n              (click)=\"close('Cancel Clear Cart')\"\n              class=\"btn btn-secondary\"\n              type=\"button\"\n            >\n              {{ 'common.cancel' | cxTranslate }}\n            </button>\n            <button (click)=\"clearCart()\" class=\"btn btn-primary\" type=\"button\">\n              {{ 'clearCart.clearCart' | cxTranslate }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template #loading>\n  <div class=\"modal-header cx-clear-cart-header\">\n    <div class=\"cx-clear-cart-title modal-title\">\n      {{ 'clearCart.clearingCart' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"cx-spinner\">\n    <cx-spinner></cx-spinner>\n  </div>\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.ClearCartDialogComponentService }]; }, propDecorators: { handleClick: [{
                type: HostListener,
                args: ['click', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xlYXItY2FydC1kaWFsb2cuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2NhcnQvYmFzZS9jb21wb25lbnRzL2NsZWFyLWNhcnQvY2xlYXItY2FydC1kaWFsb2cvY2xlYXItY2FydC1kaWFsb2cuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2NhcnQvYmFzZS9jb21wb25lbnRzL2NsZWFyLWNhcnQvY2xlYXItY2FydC1kaWFsb2cvY2xlYXItY2FydC1kaWFsb2cuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsU0FBUyxFQUVULFlBQVksR0FFYixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsU0FBUyxFQUFlLE1BQU0sdUJBQXVCLENBQUM7Ozs7OztBQU8vRCxNQUFNLE9BQU8sd0JBQXdCO0lBYW5DLFdBQVcsQ0FBQyxLQUFjO1FBQ3hCLDJDQUEyQztRQUMzQyxJQUFLLEtBQUssQ0FBQyxNQUFjLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBRTtZQUNuRSxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQzNCO0lBQ0gsQ0FBQztJQUVELFlBQ1ksRUFBYyxFQUNkLCtCQUFnRTtRQURoRSxPQUFFLEdBQUYsRUFBRSxDQUFZO1FBQ2Qsb0NBQStCLEdBQS9CLCtCQUErQixDQUFpQztRQXJCNUUsZ0JBQVcsR0FBZ0I7WUFDekIsSUFBSSxFQUFFLElBQUk7WUFDVixLQUFLLEVBQUUsSUFBSTtZQUNYLFNBQVMsRUFBRSxvQkFBb0I7WUFDL0IsYUFBYSxFQUFFLElBQUk7U0FDcEIsQ0FBQztRQUVGLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFFNUIsY0FBUyxHQUFHLFNBQVMsQ0FBQztJQWFuQixDQUFDO0lBRUosU0FBUztRQUNQLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQywrQkFBK0IsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQzFELENBQUM7SUFFRCxLQUFLLENBQUMsTUFBYztRQUNsQixJQUFJLENBQUMsK0JBQStCLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO0lBQ2xELENBQUM7O3FIQXBDVSx3QkFBd0I7eUdBQXhCLHdCQUF3QixxSENyQnJDLHFoRUFrRUE7MkZEN0NhLHdCQUF3QjtrQkFMcEMsU0FBUzsrQkFDRSxzQkFBc0IsbUJBRWYsdUJBQXVCLENBQUMsTUFBTTsrSUFlL0MsV0FBVztzQkFEVixZQUFZO3VCQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIEhvc3RMaXN0ZW5lcixcbiAgT25EZXN0cm95LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENsZWFyQ2FydERpYWxvZ0NvbXBvbmVudFNlcnZpY2UgfSBmcm9tICcuL2NsZWFyLWNhcnQtZGlhbG9nLWNvbXBvbmVudC5zZXJ2aWNlJztcbmltcG9ydCB7IElDT05fVFlQRSwgRm9jdXNDb25maWcgfSBmcm9tICdAc3BhcnRhY3VzL3N0b3JlZnJvbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1jbGVhci1jYXJ0LWRpYWxvZycsXG4gIHRlbXBsYXRlVXJsOiAnLi9jbGVhci1jYXJ0LWRpYWxvZy5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBDbGVhckNhcnREaWFsb2dDb21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3kge1xuICBmb2N1c0NvbmZpZzogRm9jdXNDb25maWcgPSB7XG4gICAgdHJhcDogdHJ1ZSxcbiAgICBibG9jazogdHJ1ZSxcbiAgICBhdXRvZm9jdXM6ICdidXR0b24uYnRuLXByaW1hcnknLFxuICAgIGZvY3VzT25Fc2NhcGU6IHRydWUsXG4gIH07XG5cbiAgaXNDbGVhcmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGljb25UeXBlcyA9IElDT05fVFlQRTtcblxuICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pXG4gIGhhbmRsZUNsaWNrKGV2ZW50OiBVSUV2ZW50KTogdm9pZCB7XG4gICAgLy8gQ2xvc2Ugb24gY2xpY2sgb3V0c2lkZSB0aGUgZGlhbG9nIHdpbmRvd1xuICAgIGlmICgoZXZlbnQudGFyZ2V0IGFzIGFueSkudGFnTmFtZSA9PT0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnRhZ05hbWUpIHtcbiAgICAgIHRoaXMuY2xvc2UoJ0Nyb3NzIGNsaWNrJyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGVsOiBFbGVtZW50UmVmLFxuICAgIHByb3RlY3RlZCBjbGVhckNhcnREaWFsb2dDb21wb25lbnRTZXJ2aWNlOiBDbGVhckNhcnREaWFsb2dDb21wb25lbnRTZXJ2aWNlXG4gICkge31cblxuICBjbGVhckNhcnQoKTogdm9pZCB7XG4gICAgdGhpcy5pc0NsZWFyaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNsZWFyQ2FydERpYWxvZ0NvbXBvbmVudFNlcnZpY2UuZGVsZXRlQWN0aXZlQ2FydCgpO1xuICB9XG5cbiAgY2xvc2UocmVhc29uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyQ2FydERpYWxvZ0NvbXBvbmVudFNlcnZpY2UuY2xvc2VEaWFsb2cocmVhc29uKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuY2xvc2UoJ2Nsb3NlIGRpYWxvZyBvbiBjb21wb25lbnQgZGVzdHJveScpO1xuICB9XG59XG4iLCI8ZGl2XG4gIFtjeEZvY3VzXT1cImZvY3VzQ29uZmlnXCJcbiAgKGVzYyk9XCJjbG9zZSgnRXNjYXBlIGNsaWNrZWQnKVwiXG4gIGNsYXNzPVwiY3gtY2xlYXItY2FydC1kaWFsb2dcIlxuPlxuICA8ZGl2IGNsYXNzPVwiY3gtY2xlYXItY2FydC1jb250YWluZXJcIj5cbiAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiIWlzQ2xlYXJpbmc7IGVsc2UgbG9hZGluZ1wiPlxuICAgICAgPGRpdlxuICAgICAgICByb2xlPVwic3RhdHVzXCJcbiAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCInY29tbW9uLmxvYWRlZCcgfCBjeFRyYW5zbGF0ZVwiXG4gICAgICA+PC9kaXY+XG4gICAgICA8IS0tIE1vZGFsIEhlYWRlciAtLT5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXIgY3gtY2xlYXItY2FydC1oZWFkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImN4LWNsZWFyLWNhcnQtdGl0bGUgbW9kYWwtdGl0bGVcIj5cbiAgICAgICAgICB7eyAnY2xlYXJDYXJ0LmNsZWFyQ2FydCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgKGNsaWNrKT1cImNsb3NlKCdDbG9zZSBDbGVhciBDYXJ0IERpYWxvZycpXCJcbiAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIidjb21tb24uY2xvc2UnIHwgY3hUcmFuc2xhdGVcIlxuICAgICAgICAgIGNsYXNzPVwiY2xvc2VcIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICA8Y3gtaWNvbiBbdHlwZV09XCJpY29uVHlwZXMuQ0xPU0VcIj48L2N4LWljb24+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tIE1vZGFsIEJvZHkgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiY3gtY2xlYXItY2FydC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhci1jYXJ0LW1zZ1wiPlxuICAgICAgICAgIHt7ICdjbGVhckNhcnQuYWxsSXRlbXNXaWxsQmVSZW1vdmVkJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXItY2FydC13YXJuaW5nXCIgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAge3sgJ2NsZWFyQ2FydC5hcmVZb3VTdXJlVG9DbGVhckNhcnQnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN4LWNsZWFyLWNhcnQtZm9vdGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIChjbGljayk9XCJjbG9zZSgnQ2FuY2VsIENsZWFyIENhcnQnKVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgJ2NvbW1vbi5jYW5jZWwnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwiY2xlYXJDYXJ0KClcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICAgICAge3sgJ2NsZWFyQ2FydC5jbGVhckNhcnQnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbmctY29udGFpbmVyPlxuICA8L2Rpdj5cbjwvZGl2PlxuXG48bmctdGVtcGxhdGUgI2xvYWRpbmc+XG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXIgY3gtY2xlYXItY2FydC1oZWFkZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY3gtY2xlYXItY2FydC10aXRsZSBtb2RhbC10aXRsZVwiPlxuICAgICAge3sgJ2NsZWFyQ2FydC5jbGVhcmluZ0NhcnQnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJjeC1zcGlubmVyXCI+XG4gICAgPGN4LXNwaW5uZXI+PC9jeC1zcGlubmVyPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=