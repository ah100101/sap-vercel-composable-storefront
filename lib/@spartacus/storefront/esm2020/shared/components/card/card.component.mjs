/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { ICON_TYPE } from '../../../cms-components/misc/icon/icon.model';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../assistive-technology-message/assistive-technology-message.directive";
import * as i3 from "../../../cms-components/misc/icon/icon.component";
import * as i4 from "../truncate-text-popover/truncate-text-popover.component";
import * as i5 from "../../../layout/a11y/keyboard-focus/focus.directive";
import * as i6 from "@spartacus/core";
export class CardComponent {
    // ACTIONS
    setEditMode() {
        this.editMode = true;
    }
    cancelEdit() {
        this.editMode = false;
        this.cancelCard.emit(5);
    }
    delete() {
        this.deleteCard.emit(1);
    }
    setDefault() {
        this.isDefault = true;
        this.setDefaultCard.emit(2);
    }
    send() {
        this.sendCard.emit(3);
    }
    edit() {
        this.editCard.emit(4);
    }
    isCardAction(action) {
        return action.event !== undefined;
    }
    isCardLinkAction(action) {
        return action.link !== undefined;
    }
    constructor() {
        this.iconTypes = ICON_TYPE;
        this.deleteCard = new EventEmitter();
        this.setDefaultCard = new EventEmitter();
        this.sendCard = new EventEmitter();
        this.editCard = new EventEmitter();
        this.cancelCard = new EventEmitter();
        this.border = false;
        this.editMode = false;
        this.isDefault = false;
        this.fitToContainer = false;
        this.truncateText = false;
        this.charactersLimit = 100;
        // Intentional empty constructor
    }
    ngOnInit() {
        // Intentional empty method
    }
}
CardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: CardComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
CardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.4", type: CardComponent, selector: "cx-card", inputs: { border: "border", editMode: "editMode", isDefault: "isDefault", content: "content", fitToContainer: "fitToContainer", truncateText: "truncateText", charactersLimit: "charactersLimit", index: "index" }, outputs: { deleteCard: "deleteCard", setDefaultCard: "setDefaultCard", sendCard: "sendCard", editCard: "editCard", cancelCard: "cancelCard" }, ngImport: i0, template: "<div\n  *ngIf=\"content\"\n  class=\"cx-card\"\n  [tabindex]=\"border ? 0 : -1\"\n  [attr.role]=\"content.role ?? null\"\n  [attr.aria-label]=\"\n    content.label ? (content.label | cxTranslate: { number: this.index }) : null\n  \"\n  [class.cx-card-border]=\"border\"\n  [class.cx-card-fit-to-container]=\"fitToContainer\"\n>\n  <!-- Card Header -->\n  <div\n    *ngIf=\"content.header && !editMode\"\n    class=\"card-header\"\n    [id]=\"'content-header' + (index >= 0 ? '-' + index : '')\"\n  >\n    {{ content.header }}\n  </div>\n  <!-- Card Body -->\n  <div class=\"card-body cx-card-body\" [class.cx-card-delete]=\"editMode\">\n    <!-- Edit message -->\n    <div *ngIf=\"editMode\" role=\"alert\" class=\"cx-card-delete-msg\">\n      {{ content.deleteMsg }}\n    </div>\n    <!-- Card title -->\n    <span *ngIf=\"content.title\" class=\"cx-card-title\">\n      {{ content.title }}\n    </span>\n    <!-- Card Content -->\n    <div class=\"cx-card-container\">\n      <!-- Card Label -->\n      <div class=\"cx-card-label-container\">\n        <div *ngIf=\"content.textBold\" class=\"cx-card-label-bold\">\n          {{ content.textBold }}\n        </div>\n        <div *ngFor=\"let line of content.text\">\n          <div\n            *ngIf=\"!truncateText; else truncate\"\n            class=\"cx-card-label\"\n            [ngClass]=\"content.customClass\"\n          >\n            {{ line }}\n          </div>\n\n          <ng-template #truncate>\n            <cx-truncate-text-popover\n              [charactersLimit]=\"charactersLimit\"\n              [content]=\"line\"\n              [customClass]=\"content.customClass\"\n            ></cx-truncate-text-popover>\n          </ng-template>\n        </div>\n        <div class=\"cx-card-paragraph\" *ngFor=\"let item of content.paragraphs\">\n          <div class=\"cx-card-paragraph-title\">{{ item.title }}</div>\n          <div *ngFor=\"let text of item.text\">\n            <div class=\"cx-card-paragraph-text\">\n              {{ text }}\n            </div>\n          </div>\n        </div>\n        <ng-content select=\"[label_container_bottom]\"></ng-content>\n      </div>\n      <!-- Image -->\n      <div *ngIf=\"content.img\" class=\"cx-card-img-container\">\n        <cx-icon [type]=\"content.img\"></cx-icon>\n      </div>\n    </div>\n    <!-- Edit Mode Actions -->\n    <div *ngIf=\"editMode\" class=\"row cx-card-body-delete\">\n      <div class=\"col-md-6\">\n        <button\n          [cxAtMessage]=\"'assistiveMessage.actionCancelled' | cxTranslate\"\n          class=\"btn btn-block btn-secondary\"\n          (click)=\"cancelEdit()\"\n        >\n          {{ 'common.cancel' | cxTranslate }}\n        </button>\n      </div>\n      <div class=\"col-md-6\" [cxFocus]=\"{ autofocus: true }\">\n        <button class=\"btn btn-block btn-primary\" (click)=\"delete()\">\n          {{ 'common.delete' | cxTranslate }}\n        </button>\n      </div>\n    </div>\n    <!-- Actions -->\n    <div *ngIf=\"content.actions && !editMode\" class=\"cx-card-actions\">\n      <div *ngFor=\"let action of content.actions\">\n        <div>\n          <ng-container *ngIf=\"isCardAction(action)\" [ngSwitch]=\"action.event\">\n            <button\n              type=\"button\"\n              *ngSwitchCase=\"'delete'\"\n              class=\"link cx-action-link\"\n              (click)=\"delete()\"\n            >\n              {{ action.name }}\n            </button>\n            <button\n              type=\"button\"\n              *ngSwitchCase=\"'default'\"\n              class=\"link cx-action-link\"\n              (click)=\"setDefault()\"\n            >\n              {{ action.name }}\n            </button>\n            <button\n              type=\"button\"\n              *ngSwitchCase=\"'send'\"\n              class=\"link cx-action-link\"\n              (click)=\"send()\"\n              [attr.aria-describedby]=\"\n                index >= 0 && content.header && !editMode\n                  ? 'content-header-' + index\n                  : null\n              \"\n            >\n              {{ action.name }}\n            </button>\n            <button\n              type=\"button\"\n              *ngSwitchCase=\"'edit'\"\n              class=\"link cx-action-link\"\n              (click)=\"edit()\"\n            >\n              {{ action.name }}\n            </button>\n          </ng-container>\n          <a\n            *ngIf=\"isCardLinkAction(action)\"\n            href=\"{{ action.link }}\"\n            class=\"link cx-action-link\"\n          >\n            {{ action.name }}\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n", dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { kind: "directive", type: i1.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { kind: "directive", type: i2.AtMessageDirective, selector: "[cxAtMessage]", inputs: ["cxAtMessage"] }, { kind: "component", type: i3.IconComponent, selector: "cx-icon,[cxIcon]", inputs: ["cxIcon", "type"] }, { kind: "component", type: i4.TruncateTextPopoverComponent, selector: "cx-truncate-text-popover", inputs: ["content", "charactersLimit", "customClass"] }, { kind: "directive", type: i5.FocusDirective, selector: "[cxFocus]", inputs: ["cxFocus"] }, { kind: "pipe", type: i6.TranslatePipe, name: "cxTranslate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: CardComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-card', template: "<div\n  *ngIf=\"content\"\n  class=\"cx-card\"\n  [tabindex]=\"border ? 0 : -1\"\n  [attr.role]=\"content.role ?? null\"\n  [attr.aria-label]=\"\n    content.label ? (content.label | cxTranslate: { number: this.index }) : null\n  \"\n  [class.cx-card-border]=\"border\"\n  [class.cx-card-fit-to-container]=\"fitToContainer\"\n>\n  <!-- Card Header -->\n  <div\n    *ngIf=\"content.header && !editMode\"\n    class=\"card-header\"\n    [id]=\"'content-header' + (index >= 0 ? '-' + index : '')\"\n  >\n    {{ content.header }}\n  </div>\n  <!-- Card Body -->\n  <div class=\"card-body cx-card-body\" [class.cx-card-delete]=\"editMode\">\n    <!-- Edit message -->\n    <div *ngIf=\"editMode\" role=\"alert\" class=\"cx-card-delete-msg\">\n      {{ content.deleteMsg }}\n    </div>\n    <!-- Card title -->\n    <span *ngIf=\"content.title\" class=\"cx-card-title\">\n      {{ content.title }}\n    </span>\n    <!-- Card Content -->\n    <div class=\"cx-card-container\">\n      <!-- Card Label -->\n      <div class=\"cx-card-label-container\">\n        <div *ngIf=\"content.textBold\" class=\"cx-card-label-bold\">\n          {{ content.textBold }}\n        </div>\n        <div *ngFor=\"let line of content.text\">\n          <div\n            *ngIf=\"!truncateText; else truncate\"\n            class=\"cx-card-label\"\n            [ngClass]=\"content.customClass\"\n          >\n            {{ line }}\n          </div>\n\n          <ng-template #truncate>\n            <cx-truncate-text-popover\n              [charactersLimit]=\"charactersLimit\"\n              [content]=\"line\"\n              [customClass]=\"content.customClass\"\n            ></cx-truncate-text-popover>\n          </ng-template>\n        </div>\n        <div class=\"cx-card-paragraph\" *ngFor=\"let item of content.paragraphs\">\n          <div class=\"cx-card-paragraph-title\">{{ item.title }}</div>\n          <div *ngFor=\"let text of item.text\">\n            <div class=\"cx-card-paragraph-text\">\n              {{ text }}\n            </div>\n          </div>\n        </div>\n        <ng-content select=\"[label_container_bottom]\"></ng-content>\n      </div>\n      <!-- Image -->\n      <div *ngIf=\"content.img\" class=\"cx-card-img-container\">\n        <cx-icon [type]=\"content.img\"></cx-icon>\n      </div>\n    </div>\n    <!-- Edit Mode Actions -->\n    <div *ngIf=\"editMode\" class=\"row cx-card-body-delete\">\n      <div class=\"col-md-6\">\n        <button\n          [cxAtMessage]=\"'assistiveMessage.actionCancelled' | cxTranslate\"\n          class=\"btn btn-block btn-secondary\"\n          (click)=\"cancelEdit()\"\n        >\n          {{ 'common.cancel' | cxTranslate }}\n        </button>\n      </div>\n      <div class=\"col-md-6\" [cxFocus]=\"{ autofocus: true }\">\n        <button class=\"btn btn-block btn-primary\" (click)=\"delete()\">\n          {{ 'common.delete' | cxTranslate }}\n        </button>\n      </div>\n    </div>\n    <!-- Actions -->\n    <div *ngIf=\"content.actions && !editMode\" class=\"cx-card-actions\">\n      <div *ngFor=\"let action of content.actions\">\n        <div>\n          <ng-container *ngIf=\"isCardAction(action)\" [ngSwitch]=\"action.event\">\n            <button\n              type=\"button\"\n              *ngSwitchCase=\"'delete'\"\n              class=\"link cx-action-link\"\n              (click)=\"delete()\"\n            >\n              {{ action.name }}\n            </button>\n            <button\n              type=\"button\"\n              *ngSwitchCase=\"'default'\"\n              class=\"link cx-action-link\"\n              (click)=\"setDefault()\"\n            >\n              {{ action.name }}\n            </button>\n            <button\n              type=\"button\"\n              *ngSwitchCase=\"'send'\"\n              class=\"link cx-action-link\"\n              (click)=\"send()\"\n              [attr.aria-describedby]=\"\n                index >= 0 && content.header && !editMode\n                  ? 'content-header-' + index\n                  : null\n              \"\n            >\n              {{ action.name }}\n            </button>\n            <button\n              type=\"button\"\n              *ngSwitchCase=\"'edit'\"\n              class=\"link cx-action-link\"\n              (click)=\"edit()\"\n            >\n              {{ action.name }}\n            </button>\n          </ng-container>\n          <a\n            *ngIf=\"isCardLinkAction(action)\"\n            href=\"{{ action.link }}\"\n            class=\"link cx-action-link\"\n          >\n            {{ action.name }}\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n" }]
        }], ctorParameters: function () { return []; }, propDecorators: { deleteCard: [{
                type: Output
            }], setDefaultCard: [{
                type: Output
            }], sendCard: [{
                type: Output
            }], editCard: [{
                type: Output
            }], cancelCard: [{
                type: Output
            }], border: [{
                type: Input
            }], editMode: [{
                type: Input
            }], isDefault: [{
                type: Input
            }], content: [{
                type: Input
            }], fitToContainer: [{
                type: Input
            }], truncateText: [{
                type: Input
            }], charactersLimit: [{
                type: Input
            }], index: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FyZC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zdG9yZWZyb250bGliL3NoYXJlZC9jb21wb25lbnRzL2NhcmQvY2FyZC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zdG9yZWZyb250bGliL3NoYXJlZC9jb21wb25lbnRzL2NhcmQvY2FyZC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMvRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sOENBQThDLENBQUM7Ozs7Ozs7O0FBOEJ6RSxNQUFNLE9BQU8sYUFBYTtJQXNDeEIsVUFBVTtJQUVWLFdBQVc7UUFDVCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUN2QixDQUFDO0lBRUQsVUFBVTtRQUNSLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCxNQUFNO1FBQ0osSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUVELFVBQVU7UUFDUixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQsSUFBSTtRQUNGLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUFtQztRQUM5QyxPQUFRLE1BQXFCLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsZ0JBQWdCLENBQ2QsTUFBbUM7UUFFbkMsT0FBUSxNQUF5QixDQUFDLElBQUksS0FBSyxTQUFTLENBQUM7SUFDdkQsQ0FBQztJQUVEO1FBM0VBLGNBQVMsR0FBRyxTQUFTLENBQUM7UUFHdEIsZUFBVSxHQUF5QixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRXRELG1CQUFjLEdBQXlCLElBQUksWUFBWSxFQUFFLENBQUM7UUFFMUQsYUFBUSxHQUF5QixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRXBELGFBQVEsR0FBeUIsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUVwRCxlQUFVLEdBQXlCLElBQUksWUFBWSxFQUFFLENBQUM7UUFHdEQsV0FBTSxHQUFHLEtBQUssQ0FBQztRQUdmLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFHakIsY0FBUyxHQUFHLEtBQUssQ0FBQztRQU1sQixtQkFBYyxHQUFHLEtBQUssQ0FBQztRQUd2QixpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUdyQixvQkFBZSxHQUFHLEdBQUcsQ0FBQztRQTRDcEIsZ0NBQWdDO0lBQ2xDLENBQUM7SUFFRCxRQUFRO1FBQ04sMkJBQTJCO0lBQzdCLENBQUM7OzBHQWxGVSxhQUFhOzhGQUFiLGFBQWEsa1pDckMxQiw0akpBNElBOzJGRHZHYSxhQUFhO2tCQUp6QixTQUFTOytCQUNFLFNBQVM7MEVBT25CLFVBQVU7c0JBRFQsTUFBTTtnQkFHUCxjQUFjO3NCQURiLE1BQU07Z0JBR1AsUUFBUTtzQkFEUCxNQUFNO2dCQUdQLFFBQVE7c0JBRFAsTUFBTTtnQkFHUCxVQUFVO3NCQURULE1BQU07Z0JBSVAsTUFBTTtzQkFETCxLQUFLO2dCQUlOLFFBQVE7c0JBRFAsS0FBSztnQkFJTixTQUFTO3NCQURSLEtBQUs7Z0JBSU4sT0FBTztzQkFETixLQUFLO2dCQUlOLGNBQWM7c0JBRGIsS0FBSztnQkFJTixZQUFZO3NCQURYLEtBQUs7Z0JBSU4sZUFBZTtzQkFEZCxLQUFLO2dCQUlOLEtBQUs7c0JBREosS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IElDT05fVFlQRSB9IGZyb20gJy4uLy4uLy4uL2Ntcy1jb21wb25lbnRzL21pc2MvaWNvbi9pY29uLm1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBDYXJkQWN0aW9uIHtcbiAgZXZlbnQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRMaW5rQWN0aW9uIHtcbiAgbGluazogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZCB7XG4gIGhlYWRlcj86IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHRleHRCb2xkPzogc3RyaW5nO1xuICB0ZXh0PzogQXJyYXk8c3RyaW5nPjtcbiAgcGFyYWdyYXBocz86IEFycmF5PHsgdGl0bGU/OiBzdHJpbmc7IHRleHQ/OiBBcnJheTxzdHJpbmc+IH0+O1xuICBpbWc/OiBzdHJpbmc7XG4gIGFjdGlvbnM/OiBBcnJheTxDYXJkQWN0aW9uIHwgQ2FyZExpbmtBY3Rpb24+O1xuICBkZWxldGVNc2c/OiBzdHJpbmc7XG4gIGxhYmVsPzogc3RyaW5nO1xuICByb2xlPzogc3RyaW5nO1xuICBjdXN0b21DbGFzcz86IHN0cmluZztcbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtY2FyZCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9jYXJkLmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgQ2FyZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIGljb25UeXBlcyA9IElDT05fVFlQRTtcblxuICBAT3V0cHV0KClcbiAgZGVsZXRlQ2FyZDogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKVxuICBzZXREZWZhdWx0Q2FyZDogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKVxuICBzZW5kQ2FyZDogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKVxuICBlZGl0Q2FyZDogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKVxuICBjYW5jZWxDYXJkOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBASW5wdXQoKVxuICBib3JkZXIgPSBmYWxzZTtcblxuICBASW5wdXQoKVxuICBlZGl0TW9kZSA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpXG4gIGlzRGVmYXVsdCA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpXG4gIGNvbnRlbnQ6IENhcmQgfCBudWxsO1xuXG4gIEBJbnB1dCgpXG4gIGZpdFRvQ29udGFpbmVyID0gZmFsc2U7XG5cbiAgQElucHV0KClcbiAgdHJ1bmNhdGVUZXh0ID0gZmFsc2U7XG5cbiAgQElucHV0KClcbiAgY2hhcmFjdGVyc0xpbWl0ID0gMTAwO1xuXG4gIEBJbnB1dCgpXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLy8gQUNUSU9OU1xuXG4gIHNldEVkaXRNb2RlKCk6IHZvaWQge1xuICAgIHRoaXMuZWRpdE1vZGUgPSB0cnVlO1xuICB9XG5cbiAgY2FuY2VsRWRpdCgpOiB2b2lkIHtcbiAgICB0aGlzLmVkaXRNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5jYW5jZWxDYXJkLmVtaXQoNSk7XG4gIH1cblxuICBkZWxldGUoKTogdm9pZCB7XG4gICAgdGhpcy5kZWxldGVDYXJkLmVtaXQoMSk7XG4gIH1cblxuICBzZXREZWZhdWx0KCk6IHZvaWQge1xuICAgIHRoaXMuaXNEZWZhdWx0ID0gdHJ1ZTtcbiAgICB0aGlzLnNldERlZmF1bHRDYXJkLmVtaXQoMik7XG4gIH1cblxuICBzZW5kKCk6IHZvaWQge1xuICAgIHRoaXMuc2VuZENhcmQuZW1pdCgzKTtcbiAgfVxuXG4gIGVkaXQoKTogdm9pZCB7XG4gICAgdGhpcy5lZGl0Q2FyZC5lbWl0KDQpO1xuICB9XG5cbiAgaXNDYXJkQWN0aW9uKGFjdGlvbjogQ2FyZEFjdGlvbiB8IENhcmRMaW5rQWN0aW9uKTogYWN0aW9uIGlzIENhcmRBY3Rpb24ge1xuICAgIHJldHVybiAoYWN0aW9uIGFzIENhcmRBY3Rpb24pLmV2ZW50ICE9PSB1bmRlZmluZWQ7XG4gIH1cblxuICBpc0NhcmRMaW5rQWN0aW9uKFxuICAgIGFjdGlvbjogQ2FyZEFjdGlvbiB8IENhcmRMaW5rQWN0aW9uXG4gICk6IGFjdGlvbiBpcyBDYXJkTGlua0FjdGlvbiB7XG4gICAgcmV0dXJuIChhY3Rpb24gYXMgQ2FyZExpbmtBY3Rpb24pLmxpbmsgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIEludGVudGlvbmFsIGVtcHR5IGNvbnN0cnVjdG9yXG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICAvLyBJbnRlbnRpb25hbCBlbXB0eSBtZXRob2RcbiAgfVxufVxuIiwiPGRpdlxuICAqbmdJZj1cImNvbnRlbnRcIlxuICBjbGFzcz1cImN4LWNhcmRcIlxuICBbdGFiaW5kZXhdPVwiYm9yZGVyID8gMCA6IC0xXCJcbiAgW2F0dHIucm9sZV09XCJjb250ZW50LnJvbGUgPz8gbnVsbFwiXG4gIFthdHRyLmFyaWEtbGFiZWxdPVwiXG4gICAgY29udGVudC5sYWJlbCA/IChjb250ZW50LmxhYmVsIHwgY3hUcmFuc2xhdGU6IHsgbnVtYmVyOiB0aGlzLmluZGV4IH0pIDogbnVsbFxuICBcIlxuICBbY2xhc3MuY3gtY2FyZC1ib3JkZXJdPVwiYm9yZGVyXCJcbiAgW2NsYXNzLmN4LWNhcmQtZml0LXRvLWNvbnRhaW5lcl09XCJmaXRUb0NvbnRhaW5lclwiXG4+XG4gIDwhLS0gQ2FyZCBIZWFkZXIgLS0+XG4gIDxkaXZcbiAgICAqbmdJZj1cImNvbnRlbnQuaGVhZGVyICYmICFlZGl0TW9kZVwiXG4gICAgY2xhc3M9XCJjYXJkLWhlYWRlclwiXG4gICAgW2lkXT1cIidjb250ZW50LWhlYWRlcicgKyAoaW5kZXggPj0gMCA/ICctJyArIGluZGV4IDogJycpXCJcbiAgPlxuICAgIHt7IGNvbnRlbnQuaGVhZGVyIH19XG4gIDwvZGl2PlxuICA8IS0tIENhcmQgQm9keSAtLT5cbiAgPGRpdiBjbGFzcz1cImNhcmQtYm9keSBjeC1jYXJkLWJvZHlcIiBbY2xhc3MuY3gtY2FyZC1kZWxldGVdPVwiZWRpdE1vZGVcIj5cbiAgICA8IS0tIEVkaXQgbWVzc2FnZSAtLT5cbiAgICA8ZGl2ICpuZ0lmPVwiZWRpdE1vZGVcIiByb2xlPVwiYWxlcnRcIiBjbGFzcz1cImN4LWNhcmQtZGVsZXRlLW1zZ1wiPlxuICAgICAge3sgY29udGVudC5kZWxldGVNc2cgfX1cbiAgICA8L2Rpdj5cbiAgICA8IS0tIENhcmQgdGl0bGUgLS0+XG4gICAgPHNwYW4gKm5nSWY9XCJjb250ZW50LnRpdGxlXCIgY2xhc3M9XCJjeC1jYXJkLXRpdGxlXCI+XG4gICAgICB7eyBjb250ZW50LnRpdGxlIH19XG4gICAgPC9zcGFuPlxuICAgIDwhLS0gQ2FyZCBDb250ZW50IC0tPlxuICAgIDxkaXYgY2xhc3M9XCJjeC1jYXJkLWNvbnRhaW5lclwiPlxuICAgICAgPCEtLSBDYXJkIExhYmVsIC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImN4LWNhcmQtbGFiZWwtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgKm5nSWY9XCJjb250ZW50LnRleHRCb2xkXCIgY2xhc3M9XCJjeC1jYXJkLWxhYmVsLWJvbGRcIj5cbiAgICAgICAgICB7eyBjb250ZW50LnRleHRCb2xkIH19XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBsaW5lIG9mIGNvbnRlbnQudGV4dFwiPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICpuZ0lmPVwiIXRydW5jYXRlVGV4dDsgZWxzZSB0cnVuY2F0ZVwiXG4gICAgICAgICAgICBjbGFzcz1cImN4LWNhcmQtbGFiZWxcIlxuICAgICAgICAgICAgW25nQ2xhc3NdPVwiY29udGVudC5jdXN0b21DbGFzc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3sgbGluZSB9fVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPG5nLXRlbXBsYXRlICN0cnVuY2F0ZT5cbiAgICAgICAgICAgIDxjeC10cnVuY2F0ZS10ZXh0LXBvcG92ZXJcbiAgICAgICAgICAgICAgW2NoYXJhY3RlcnNMaW1pdF09XCJjaGFyYWN0ZXJzTGltaXRcIlxuICAgICAgICAgICAgICBbY29udGVudF09XCJsaW5lXCJcbiAgICAgICAgICAgICAgW2N1c3RvbUNsYXNzXT1cImNvbnRlbnQuY3VzdG9tQ2xhc3NcIlxuICAgICAgICAgICAgPjwvY3gtdHJ1bmNhdGUtdGV4dC1wb3BvdmVyPlxuICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtY2FyZC1wYXJhZ3JhcGhcIiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBjb250ZW50LnBhcmFncmFwaHNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtY2FyZC1wYXJhZ3JhcGgtdGl0bGVcIj57eyBpdGVtLnRpdGxlIH19PC9kaXY+XG4gICAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgdGV4dCBvZiBpdGVtLnRleHRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1jYXJkLXBhcmFncmFwaC10ZXh0XCI+XG4gICAgICAgICAgICAgIHt7IHRleHQgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW2xhYmVsX2NvbnRhaW5lcl9ib3R0b21dXCI+PC9uZy1jb250ZW50PlxuICAgICAgPC9kaXY+XG4gICAgICA8IS0tIEltYWdlIC0tPlxuICAgICAgPGRpdiAqbmdJZj1cImNvbnRlbnQuaW1nXCIgY2xhc3M9XCJjeC1jYXJkLWltZy1jb250YWluZXJcIj5cbiAgICAgICAgPGN4LWljb24gW3R5cGVdPVwiY29udGVudC5pbWdcIj48L2N4LWljb24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8IS0tIEVkaXQgTW9kZSBBY3Rpb25zIC0tPlxuICAgIDxkaXYgKm5nSWY9XCJlZGl0TW9kZVwiIGNsYXNzPVwicm93IGN4LWNhcmQtYm9keS1kZWxldGVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgW2N4QXRNZXNzYWdlXT1cIidhc3Npc3RpdmVNZXNzYWdlLmFjdGlvbkNhbmNlbGxlZCcgfCBjeFRyYW5zbGF0ZVwiXG4gICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWJsb2NrIGJ0bi1zZWNvbmRhcnlcIlxuICAgICAgICAgIChjbGljayk9XCJjYW5jZWxFZGl0KClcIlxuICAgICAgICA+XG4gICAgICAgICAge3sgJ2NvbW1vbi5jYW5jZWwnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiIFtjeEZvY3VzXT1cInsgYXV0b2ZvY3VzOiB0cnVlIH1cIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tYmxvY2sgYnRuLXByaW1hcnlcIiAoY2xpY2spPVwiZGVsZXRlKClcIj5cbiAgICAgICAgICB7eyAnY29tbW9uLmRlbGV0ZScgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDwhLS0gQWN0aW9ucyAtLT5cbiAgICA8ZGl2ICpuZ0lmPVwiY29udGVudC5hY3Rpb25zICYmICFlZGl0TW9kZVwiIGNsYXNzPVwiY3gtY2FyZC1hY3Rpb25zXCI+XG4gICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBhY3Rpb24gb2YgY29udGVudC5hY3Rpb25zXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzQ2FyZEFjdGlvbihhY3Rpb24pXCIgW25nU3dpdGNoXT1cImFjdGlvbi5ldmVudFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgKm5nU3dpdGNoQ2FzZT1cIidkZWxldGUnXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJsaW5rIGN4LWFjdGlvbi1saW5rXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cImRlbGV0ZSgpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgYWN0aW9uLm5hbWUgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgKm5nU3dpdGNoQ2FzZT1cIidkZWZhdWx0J1wiXG4gICAgICAgICAgICAgIGNsYXNzPVwibGluayBjeC1hY3Rpb24tbGlua1wiXG4gICAgICAgICAgICAgIChjbGljayk9XCJzZXREZWZhdWx0KClcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7eyBhY3Rpb24ubmFtZSB9fVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiJ3NlbmQnXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJsaW5rIGN4LWFjdGlvbi1saW5rXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbmQoKVwiXG4gICAgICAgICAgICAgIFthdHRyLmFyaWEtZGVzY3JpYmVkYnldPVwiXG4gICAgICAgICAgICAgICAgaW5kZXggPj0gMCAmJiBjb250ZW50LmhlYWRlciAmJiAhZWRpdE1vZGVcbiAgICAgICAgICAgICAgICAgID8gJ2NvbnRlbnQtaGVhZGVyLScgKyBpbmRleFxuICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7IGFjdGlvbi5uYW1lIH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCInZWRpdCdcIlxuICAgICAgICAgICAgICBjbGFzcz1cImxpbmsgY3gtYWN0aW9uLWxpbmtcIlxuICAgICAgICAgICAgICAoY2xpY2spPVwiZWRpdCgpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgYWN0aW9uLm5hbWUgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICAqbmdJZj1cImlzQ2FyZExpbmtBY3Rpb24oYWN0aW9uKVwiXG4gICAgICAgICAgICBocmVmPVwie3sgYWN0aW9uLmxpbmsgfX1cIlxuICAgICAgICAgICAgY2xhc3M9XCJsaW5rIGN4LWFjdGlvbi1saW5rXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7eyBhY3Rpb24ubmFtZSB9fVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==