/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component, Input, } from '@angular/core';
import { ProductListOutlets } from '../../product-outlets.model';
import { ProductListItemContextSource } from '../model/product-list-item-context-source.model';
import { ProductListItemContext } from '../model/product-list-item-context.model';
import * as i0 from "@angular/core";
import * as i1 from "../model/product-list-item-context-source.model";
import * as i2 from "@angular/common";
import * as i3 from "../../../../shared/components/media/media.component";
import * as i4 from "../../../../cms-structure/outlet/outlet.directive";
import * as i5 from "../../../../cms-structure/page/component/inner-components-host.directive";
import * as i6 from "@angular/router";
import * as i7 from "../../../../shared/components/star-rating/star-rating.component";
import * as i8 from "@spartacus/core";
export class ProductListItemComponent {
    constructor(productListItemContextSource) {
        this.productListItemContextSource = productListItemContextSource;
        this.ProductListOutlets = ProductListOutlets;
    }
    ngOnChanges(changes) {
        if (changes?.product) {
            this.productListItemContextSource.product$.next(this.product);
        }
    }
}
ProductListItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: ProductListItemComponent, deps: [{ token: i1.ProductListItemContextSource }], target: i0.ɵɵFactoryTarget.Component });
ProductListItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.4", type: ProductListItemComponent, selector: "cx-product-list-item", inputs: { product: "product" }, providers: [
        ProductListItemContextSource,
        {
            provide: ProductListItemContext,
            useExisting: ProductListItemContextSource,
        },
    ], usesOnChanges: true, ngImport: i0, template: "<div class=\"row\">\n  <div class=\"col-12 col-md-4\">\n    <a\n      [attr.aria-label]=\"\n        !product.images?.hasOwnProperty('PRIMARY')\n          ? ('productDetails.noProductImage'\n            | cxTranslate: { product: product.name })\n          : undefined\n      \"\n      [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n      class=\"cx-product-image-container\"\n    >\n      <cx-media\n        class=\"cx-product-image\"\n        [container]=\"product.images?.PRIMARY\"\n        format=\"product\"\n        [alt]=\"product.name || product.summary\"\n      ></cx-media>\n    </a>\n  </div>\n  <div class=\"col-12 col-md-8\">\n    <a\n      [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n      class=\"cx-product-name\"\n    >\n      <h2 [innerHtml]=\"product.nameHtml\"></h2>\n    </a>\n\n    <ng-template [cxOutlet]=\"ProductListOutlets.ITEM_DETAILS\">\n      <cx-star-rating\n        *ngIf=\"product.averageRating\"\n        [rating]=\"product?.averageRating\"\n      ></cx-star-rating>\n      <div *ngIf=\"!product.averageRating\" class=\"cx-product-no-review\">\n        {{ 'productDetails.noReviews' | cxTranslate }}\n      </div>\n      <div\n        class=\"cx-product-price\"\n        [attr.aria-label]=\"'productDetails.productPrice' | cxTranslate\"\n      >\n        {{ product.price?.formattedValue }}\n      </div>\n    </ng-template>\n\n    <div class=\"row\">\n      <div class=\"col-12 col-md-7 col-xl-7\">\n        <p class=\"cx-product-summary\" [innerHtml]=\"product.summary\">\n          {{ product.summary }}\n        </p>\n      </div>\n      <div class=\"col-12 col-md-5 col-xl-5\">\n        <ng-template [cxOutlet]=\"ProductListOutlets.ITEM_ACTIONS\">\n          <ng-container cxInnerComponentsHost></ng-container>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>\n", dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.MediaComponent, selector: "cx-media", inputs: ["container", "format", "alt", "role", "loading"], outputs: ["loaded"] }, { kind: "directive", type: i4.OutletDirective, selector: "[cxOutlet]", inputs: ["cxOutlet", "cxOutletContext", "cxOutletDefer", "cxComponentRef"], outputs: ["loaded", "cxComponentRefChange"] }, { kind: "directive", type: i5.InnerComponentsHostDirective, selector: "[cxInnerComponentsHost]" }, { kind: "directive", type: i6.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "component", type: i7.StarRatingComponent, selector: "cx-star-rating", inputs: ["disabled", "rating"], outputs: ["change"] }, { kind: "pipe", type: i8.TranslatePipe, name: "cxTranslate" }, { kind: "pipe", type: i8.UrlPipe, name: "cxUrl" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: ProductListItemComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-product-list-item', changeDetection: ChangeDetectionStrategy.OnPush, providers: [
                        ProductListItemContextSource,
                        {
                            provide: ProductListItemContext,
                            useExisting: ProductListItemContextSource,
                        },
                    ], template: "<div class=\"row\">\n  <div class=\"col-12 col-md-4\">\n    <a\n      [attr.aria-label]=\"\n        !product.images?.hasOwnProperty('PRIMARY')\n          ? ('productDetails.noProductImage'\n            | cxTranslate: { product: product.name })\n          : undefined\n      \"\n      [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n      class=\"cx-product-image-container\"\n    >\n      <cx-media\n        class=\"cx-product-image\"\n        [container]=\"product.images?.PRIMARY\"\n        format=\"product\"\n        [alt]=\"product.name || product.summary\"\n      ></cx-media>\n    </a>\n  </div>\n  <div class=\"col-12 col-md-8\">\n    <a\n      [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n      class=\"cx-product-name\"\n    >\n      <h2 [innerHtml]=\"product.nameHtml\"></h2>\n    </a>\n\n    <ng-template [cxOutlet]=\"ProductListOutlets.ITEM_DETAILS\">\n      <cx-star-rating\n        *ngIf=\"product.averageRating\"\n        [rating]=\"product?.averageRating\"\n      ></cx-star-rating>\n      <div *ngIf=\"!product.averageRating\" class=\"cx-product-no-review\">\n        {{ 'productDetails.noReviews' | cxTranslate }}\n      </div>\n      <div\n        class=\"cx-product-price\"\n        [attr.aria-label]=\"'productDetails.productPrice' | cxTranslate\"\n      >\n        {{ product.price?.formattedValue }}\n      </div>\n    </ng-template>\n\n    <div class=\"row\">\n      <div class=\"col-12 col-md-7 col-xl-7\">\n        <p class=\"cx-product-summary\" [innerHtml]=\"product.summary\">\n          {{ product.summary }}\n        </p>\n      </div>\n      <div class=\"col-12 col-md-5 col-xl-5\">\n        <ng-template [cxOutlet]=\"ProductListOutlets.ITEM_ACTIONS\">\n          <ng-container cxInnerComponentsHost></ng-container>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.ProductListItemContextSource }]; }, propDecorators: { product: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdC1saXN0LWl0ZW0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc3RvcmVmcm9udGxpYi9jbXMtY29tcG9uZW50cy9wcm9kdWN0L3Byb2R1Y3QtbGlzdC9wcm9kdWN0LWxpc3QtaXRlbS9wcm9kdWN0LWxpc3QtaXRlbS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zdG9yZWZyb250bGliL2Ntcy1jb21wb25lbnRzL3Byb2R1Y3QvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC1pdGVtL3Byb2R1Y3QtbGlzdC1pdGVtLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxLQUFLLEdBR04sTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDakUsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0saURBQWlELENBQUM7QUFDL0YsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sMENBQTBDLENBQUM7Ozs7Ozs7Ozs7QUFjbEYsTUFBTSxPQUFPLHdCQUF3QjtJQUluQyxZQUNZLDRCQUEwRDtRQUExRCxpQ0FBNEIsR0FBNUIsNEJBQTRCLENBQThCO1FBSjdELHVCQUFrQixHQUFHLGtCQUFrQixDQUFDO0lBSzlDLENBQUM7SUFFSixXQUFXLENBQUMsT0FBdUI7UUFDakMsSUFBSSxPQUFPLEVBQUUsT0FBTyxFQUFFO1lBQ3BCLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUMvRDtJQUNILENBQUM7O3FIQVpVLHdCQUF3Qjt5R0FBeEIsd0JBQXdCLCtFQVJ4QjtRQUNULDRCQUE0QjtRQUM1QjtZQUNFLE9BQU8sRUFBRSxzQkFBc0I7WUFDL0IsV0FBVyxFQUFFLDRCQUE0QjtTQUMxQztLQUNGLCtDQzNCSCxtMERBMERBOzJGRDdCYSx3QkFBd0I7a0JBWnBDLFNBQVM7K0JBQ0Usc0JBQXNCLG1CQUVmLHVCQUF1QixDQUFDLE1BQU0sYUFDcEM7d0JBQ1QsNEJBQTRCO3dCQUM1Qjs0QkFDRSxPQUFPLEVBQUUsc0JBQXNCOzRCQUMvQixXQUFXLEVBQUUsNEJBQTRCO3lCQUMxQztxQkFDRjttSEFJUSxPQUFPO3NCQUFmLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMyBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ29tcG9uZW50LFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBTaW1wbGVDaGFuZ2VzLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFByb2R1Y3RMaXN0T3V0bGV0cyB9IGZyb20gJy4uLy4uL3Byb2R1Y3Qtb3V0bGV0cy5tb2RlbCc7XG5pbXBvcnQgeyBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlIH0gZnJvbSAnLi4vbW9kZWwvcHJvZHVjdC1saXN0LWl0ZW0tY29udGV4dC1zb3VyY2UubW9kZWwnO1xuaW1wb3J0IHsgUHJvZHVjdExpc3RJdGVtQ29udGV4dCB9IGZyb20gJy4uL21vZGVsL3Byb2R1Y3QtbGlzdC1pdGVtLWNvbnRleHQubW9kZWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1wcm9kdWN0LWxpc3QtaXRlbScsXG4gIHRlbXBsYXRlVXJsOiAnLi9wcm9kdWN0LWxpc3QtaXRlbS5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBwcm92aWRlcnM6IFtcbiAgICBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlLFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IFByb2R1Y3RMaXN0SXRlbUNvbnRleHQsXG4gICAgICB1c2VFeGlzdGluZzogUHJvZHVjdExpc3RJdGVtQ29udGV4dFNvdXJjZSxcbiAgICB9LFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBQcm9kdWN0TGlzdEl0ZW1Db21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuICByZWFkb25seSBQcm9kdWN0TGlzdE91dGxldHMgPSBQcm9kdWN0TGlzdE91dGxldHM7XG4gIEBJbnB1dCgpIHByb2R1Y3Q6IGFueTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgcHJvZHVjdExpc3RJdGVtQ29udGV4dFNvdXJjZTogUHJvZHVjdExpc3RJdGVtQ29udGV4dFNvdXJjZVxuICApIHt9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlcz86IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoY2hhbmdlcz8ucHJvZHVjdCkge1xuICAgICAgdGhpcy5wcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlLnByb2R1Y3QkLm5leHQodGhpcy5wcm9kdWN0KTtcbiAgICB9XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbWQtNFwiPlxuICAgIDxhXG4gICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIlxuICAgICAgICAhcHJvZHVjdC5pbWFnZXM/Lmhhc093blByb3BlcnR5KCdQUklNQVJZJylcbiAgICAgICAgICA/ICgncHJvZHVjdERldGFpbHMubm9Qcm9kdWN0SW1hZ2UnXG4gICAgICAgICAgICB8IGN4VHJhbnNsYXRlOiB7IHByb2R1Y3Q6IHByb2R1Y3QubmFtZSB9KVxuICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICBcIlxuICAgICAgW3JvdXRlckxpbmtdPVwieyBjeFJvdXRlOiAncHJvZHVjdCcsIHBhcmFtczogcHJvZHVjdCB9IHwgY3hVcmxcIlxuICAgICAgY2xhc3M9XCJjeC1wcm9kdWN0LWltYWdlLWNvbnRhaW5lclwiXG4gICAgPlxuICAgICAgPGN4LW1lZGlhXG4gICAgICAgIGNsYXNzPVwiY3gtcHJvZHVjdC1pbWFnZVwiXG4gICAgICAgIFtjb250YWluZXJdPVwicHJvZHVjdC5pbWFnZXM/LlBSSU1BUllcIlxuICAgICAgICBmb3JtYXQ9XCJwcm9kdWN0XCJcbiAgICAgICAgW2FsdF09XCJwcm9kdWN0Lm5hbWUgfHwgcHJvZHVjdC5zdW1tYXJ5XCJcbiAgICAgID48L2N4LW1lZGlhPlxuICAgIDwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLThcIj5cbiAgICA8YVxuICAgICAgW3JvdXRlckxpbmtdPVwieyBjeFJvdXRlOiAncHJvZHVjdCcsIHBhcmFtczogcHJvZHVjdCB9IHwgY3hVcmxcIlxuICAgICAgY2xhc3M9XCJjeC1wcm9kdWN0LW5hbWVcIlxuICAgID5cbiAgICAgIDxoMiBbaW5uZXJIdG1sXT1cInByb2R1Y3QubmFtZUh0bWxcIj48L2gyPlxuICAgIDwvYT5cblxuICAgIDxuZy10ZW1wbGF0ZSBbY3hPdXRsZXRdPVwiUHJvZHVjdExpc3RPdXRsZXRzLklURU1fREVUQUlMU1wiPlxuICAgICAgPGN4LXN0YXItcmF0aW5nXG4gICAgICAgICpuZ0lmPVwicHJvZHVjdC5hdmVyYWdlUmF0aW5nXCJcbiAgICAgICAgW3JhdGluZ109XCJwcm9kdWN0Py5hdmVyYWdlUmF0aW5nXCJcbiAgICAgID48L2N4LXN0YXItcmF0aW5nPlxuICAgICAgPGRpdiAqbmdJZj1cIiFwcm9kdWN0LmF2ZXJhZ2VSYXRpbmdcIiBjbGFzcz1cImN4LXByb2R1Y3Qtbm8tcmV2aWV3XCI+XG4gICAgICAgIHt7ICdwcm9kdWN0RGV0YWlscy5ub1Jldmlld3MnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cImN4LXByb2R1Y3QtcHJpY2VcIlxuICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIidwcm9kdWN0RGV0YWlscy5wcm9kdWN0UHJpY2UnIHwgY3hUcmFuc2xhdGVcIlxuICAgICAgPlxuICAgICAgICB7eyBwcm9kdWN0LnByaWNlPy5mb3JtYXR0ZWRWYWx1ZSB9fVxuICAgICAgPC9kaXY+XG4gICAgPC9uZy10ZW1wbGF0ZT5cblxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTcgY29sLXhsLTdcIj5cbiAgICAgICAgPHAgY2xhc3M9XCJjeC1wcm9kdWN0LXN1bW1hcnlcIiBbaW5uZXJIdG1sXT1cInByb2R1Y3Quc3VtbWFyeVwiPlxuICAgICAgICAgIHt7IHByb2R1Y3Quc3VtbWFyeSB9fVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTUgY29sLXhsLTVcIj5cbiAgICAgICAgPG5nLXRlbXBsYXRlIFtjeE91dGxldF09XCJQcm9kdWN0TGlzdE91dGxldHMuSVRFTV9BQ1RJT05TXCI+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciBjeElubmVyQ29tcG9uZW50c0hvc3Q+PC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==