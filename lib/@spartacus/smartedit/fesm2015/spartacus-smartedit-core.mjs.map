{"version":3,"file":"spartacus-smartedit-core.mjs","sources":["../../../feature-libs/smartedit/core/services/smart-edit.service.ts","../../../feature-libs/smartedit/core/decorators/smart-edit-component-decorator.ts","../../../feature-libs/smartedit/core/decorators/smart-edit-slot-decorator.ts","../../../feature-libs/smartedit/core/decorators/index.ts","../../../feature-libs/smartedit/core/smart-edit-core.module.ts","../../../feature-libs/smartedit/core/public_api.ts","../../../feature-libs/smartedit/core/spartacus-smartedit-core.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable, NgZone, Renderer2, RendererFactory2 } from '@angular/core';\nimport {\n  BaseSiteService,\n  CmsService,\n  Page,\n  PageType,\n  RoutingService,\n  WindowRef,\n} from '@spartacus/core';\nimport { SmartEditConfig } from '@spartacus/smartedit/root';\nimport { filter, take } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SmartEditService {\n  private isPreviewPage = false;\n  private _currentPageId: string | undefined;\n\n  private defaultPreviewProductCode: string | undefined;\n  private defaultPreviewCategoryCode: string | undefined;\n\n  constructor(\n    protected cmsService: CmsService,\n    protected routingService: RoutingService,\n    protected baseSiteService: BaseSiteService,\n    protected zone: NgZone,\n    protected winRef: WindowRef,\n    protected rendererFactory: RendererFactory2,\n    protected config: SmartEditConfig\n  ) {\n    if (winRef.nativeWindow) {\n      const window = winRef.nativeWindow as any;\n      // rerender components and slots after editing\n      window.smartedit = window.smartedit || {};\n      window.smartedit.renderComponent = (\n        componentId: string,\n        componentType: string,\n        parentId: string\n      ) => {\n        return this.renderComponent(componentId, componentType, parentId);\n      };\n\n      // reprocess page\n      window.smartedit.reprocessPage = this.reprocessPage;\n    }\n  }\n\n  public processCmsPage(): void {\n    this.baseSiteService\n      .get()\n      .pipe(\n        filter((site: any) => Boolean(site)),\n        take(1)\n      )\n      .subscribe((site) => {\n        this.defaultPreviewCategoryCode = site.defaultPreviewCategoryCode;\n        this.defaultPreviewProductCode = site.defaultPreviewProductCode;\n\n        this.cmsService\n          .getCurrentPage()\n          .pipe(filter<Page>(Boolean))\n          .subscribe((cmsPage) => {\n            this._currentPageId = cmsPage.pageId;\n            // before adding contract to page, we need redirect to that page\n            this.goToPreviewPage(cmsPage);\n            this.addPageContract(cmsPage);\n          });\n      });\n  }\n\n  /**\n   * add CSS classes in a body tag\n   */\n  protected addPageContract(cmsPage: Page) {\n    const renderer = this.rendererFactory.createRenderer('body', null);\n    const element = this.winRef.document.body;\n\n    // remove old page contract\n    const previousContract: string[] = [];\n    Array.from(element.classList).forEach((attr) =>\n      previousContract.push(attr)\n    );\n    previousContract.forEach((attr) => renderer.removeClass(element, attr));\n\n    // add new page contract\n    this.addSmartEditContract(element, renderer, cmsPage.properties);\n  }\n\n  /**\n   * go to the default preview page\n   */\n  protected goToPreviewPage(cmsPage: Page) {\n    // only the first page is the smartedit preview page\n    if (!this.isPreviewPage) {\n      this.isPreviewPage = true;\n      if (\n        cmsPage.type === PageType.PRODUCT_PAGE &&\n        this.defaultPreviewProductCode\n      ) {\n        this.routingService.go({\n          cxRoute: 'product',\n          params: { code: this.defaultPreviewProductCode, name: '' },\n        });\n      } else if (\n        cmsPage.type === PageType.CATEGORY_PAGE &&\n        this.defaultPreviewCategoryCode\n      ) {\n        this.routingService.go({\n          cxRoute: 'category',\n          params: { code: this.defaultPreviewCategoryCode },\n        });\n      }\n    }\n  }\n\n  /**\n   * re-render CMS components and slots\n   */\n  protected renderComponent(\n    componentId: string,\n    componentType?: string,\n    parentId?: string\n  ): boolean {\n    if (componentId) {\n      this.zone.run(() => {\n        // without parentId, it is slot\n        if (!parentId) {\n          if (this._currentPageId) {\n            this.cmsService.refreshPageById(this._currentPageId);\n          } else {\n            this.cmsService.refreshLatestPage();\n          }\n        } else if (componentType) {\n          this.cmsService.refreshComponent(componentId);\n        }\n      });\n    }\n\n    return true;\n  }\n\n  protected reprocessPage() {\n    // TODO: reprocess page API\n  }\n\n  /**\n   * add smartedit HTML markup contract\n   */\n  public addSmartEditContract(\n    element: Element,\n    renderer: Renderer2,\n    properties: any\n  ): void {\n    if (properties) {\n      // check each group of properties, e.g. smartedit\n      Object.keys(properties).forEach((group) => {\n        const name = 'data-' + group + '-';\n        const groupProps = properties[group];\n\n        // check each property in the group\n        Object.keys(groupProps).forEach((propName) => {\n          const propValue = groupProps[propName];\n          if (propName === 'classes') {\n            const classes = propValue.split(' ');\n            classes.forEach((classItem: string) => {\n              renderer.addClass(element, classItem);\n            });\n          } else {\n            renderer.setAttribute(\n              element,\n              name +\n                propName\n                  .split(/(?=[A-Z])/)\n                  .join('-')\n                  .toLowerCase(),\n              propValue\n            );\n          }\n        });\n      });\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable, Renderer2 } from '@angular/core';\nimport { ComponentDecorator, ContentSlotComponentData } from '@spartacus/core';\nimport { SmartEditService } from '../services/smart-edit.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SmartEditComponentDecorator extends ComponentDecorator {\n  constructor(protected smartEditService: SmartEditService) {\n    super();\n  }\n\n  decorate(\n    element: Element,\n    renderer: Renderer2,\n    component: ContentSlotComponentData\n  ): void {\n    if (component) {\n      this.smartEditService.addSmartEditContract(\n        element,\n        renderer,\n        component.properties\n      );\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable, Renderer2 } from '@angular/core';\nimport { ContentSlotData, SlotDecorator } from '@spartacus/core';\nimport { SmartEditService } from '../services/smart-edit.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SmartEditSlotDecorator extends SlotDecorator {\n  constructor(protected smartEditService: SmartEditService) {\n    super();\n  }\n\n  decorate(element: Element, renderer: Renderer2, slot: ContentSlotData): void {\n    if (slot) {\n      this.smartEditService.addSmartEditContract(\n        element,\n        renderer,\n        slot.properties\n      );\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Provider } from '@angular/core';\nimport { ComponentDecorator, SlotDecorator } from '@spartacus/core';\nimport { SmartEditComponentDecorator } from './smart-edit-component-decorator';\nimport { SmartEditSlotDecorator } from './smart-edit-slot-decorator';\n\nexport const smartEditDecorators: Provider[] = [\n  {\n    provide: ComponentDecorator,\n    useExisting: SmartEditComponentDecorator,\n    multi: true,\n  },\n  {\n    provide: SlotDecorator,\n    useExisting: SmartEditSlotDecorator,\n    multi: true,\n  },\n];\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { NgModule } from '@angular/core';\nimport { smartEditDecorators } from './decorators/index';\nimport { SmartEditService } from './services/smart-edit.service';\n\n@NgModule({\n  providers: [...smartEditDecorators],\n})\nexport class SmartEditCoreModule {\n  constructor(private smartEditService: SmartEditService) {\n    this.smartEditService.processCmsPage();\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './services/smart-edit.service';\nexport * from './smart-edit-core.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1.SmartEditService"],"mappings":"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"}