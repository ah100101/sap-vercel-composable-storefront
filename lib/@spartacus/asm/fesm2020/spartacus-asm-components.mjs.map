{"version":3,"file":"spartacus-asm-components.mjs","sources":["../../../feature-libs/asm/components/asm-bind-cart-dialog/asm-bind-cart-dialog.component.ts","../../../feature-libs/asm/components/asm-bind-cart-dialog/asm-bind-cart-dialog.component.html","../../../feature-libs/asm/components/dot-spinner/dot-spinner.component.ts","../../../feature-libs/asm/components/dot-spinner/dot-spinner.component.html","../../../feature-libs/asm/components/asm-bind-cart/asm-bind-cart.component.ts","../../../feature-libs/asm/components/asm-bind-cart/asm-bind-cart.component.html","../../../feature-libs/asm/components/services/asm-component.service.ts","../../../feature-libs/asm/components/csagent-login-form/csagent-login-form.component.ts","../../../feature-libs/asm/components/csagent-login-form/csagent-login-form.component.html","../../../feature-libs/asm/components/customer-selection/customer-selection.component.ts","../../../feature-libs/asm/components/customer-selection/customer-selection.component.html","../../../feature-libs/asm/components/asm-session-timer/format-timer.pipe.ts","../../../feature-libs/asm/components/asm-session-timer/asm-session-timer.component.ts","../../../feature-libs/asm/components/asm-session-timer/asm-session-timer.component.html","../../../feature-libs/asm/components/customer-emulation/customer-emulation.component.ts","../../../feature-libs/asm/components/customer-emulation/customer-emulation.component.html","../../../feature-libs/asm/components/asm-toggle-ui/asm-toggle-ui.component.ts","../../../feature-libs/asm/components/asm-toggle-ui/asm-toggle-ui.component.html","../../../feature-libs/asm/components/asm-main-ui/asm-main-ui.component.ts","../../../feature-libs/asm/components/asm-main-ui/asm-main-ui.component.html","../../../feature-libs/asm/components/customer-list/customer-list.component.ts","../../../feature-libs/asm/components/customer-list/customer-list.component.html","../../../feature-libs/asm/components/customer-list/default-customer-list-layout.config.ts","../../../feature-libs/asm/components/default-asm-layout.config.ts","../../../feature-libs/asm/components/default-bind-cart-layout.config.ts","../../../feature-libs/asm/components/asm-components.module.ts","../../../feature-libs/asm/components/services/index.ts","../../../feature-libs/asm/components/public_api.ts","../../../feature-libs/asm/components/spartacus-asm-components.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component } from '@angular/core';\nimport { FocusConfig, LaunchDialogService } from '@spartacus/storefront';\n\nexport enum BIND_CART_DIALOG_ACTION {\n  CANCEL = 'CANCEL',\n  REPLACE = 'REPLACE',\n}\n\n@Component({\n  selector: 'cx-asm-bind-cart-dialog',\n  templateUrl: './asm-bind-cart-dialog.component.html',\n})\nexport class AsmBindCartDialogComponent {\n  BIND_CART_ACTION = BIND_CART_DIALOG_ACTION;\n\n  focusConfig: FocusConfig = {\n    trap: true,\n    block: true,\n    autofocus: true,\n    focusOnEscape: true,\n  };\n\n  constructor(protected launchDialogService: LaunchDialogService) {}\n\n  closeModal(reason: BIND_CART_DIALOG_ACTION): void {\n    this.launchDialogService.closeDialog(reason);\n  }\n}\n","<div\n  class=\"cx-asm-bind-cart-dialog cx-modal-container cx-asm-dialog\"\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"closeModal(BIND_CART_ACTION.CANCEL)\"\n>\n  <div class=\"cx-modal-content\">\n    <!-- Modal Header -->\n    <div class=\"cx-dialog-header modal-header\">\n      <h2 id=\"asm-bind-cart-dialog-title\" class=\"title modal-title\">\n        {{ 'asm.bindCart.dialog.title' | cxTranslate }}\n      </h2>\n    </div>\n\n    <!-- Modal Body -->\n    <div class=\"cx-dialog-body modal-body\">\n      <div class=\"cx-dialog-row\">\n        <div class=\"cx-dialog-item\">\n          {{ 'asm.bindCart.dialog.body' | cxTranslate }}\n        </div>\n      </div>\n    </div>\n\n    <!-- Modal Footer -->\n    <div class=\"cx-dialog-footer modal-footer\">\n      <button\n        (click)=\"closeModal(BIND_CART_ACTION.REPLACE)\"\n        [attr.aria-label]=\"'asm.bindCart.dialog.actions.replace' | cxTranslate\"\n        class=\"btn btn-primary\"\n        type=\"button\"\n      >\n        {{ 'asm.bindCart.dialog.actions.replace' | cxTranslate }}\n      </button>\n\n      <button\n        (click)=\"closeModal(BIND_CART_ACTION.CANCEL)\"\n        [attr.aria-label]=\"'common.cancel' | cxTranslate\"\n        class=\"btn btn-secondary\"\n        type=\"button\"\n      >\n        {{ 'common.cancel' | cxTranslate }}\n      </button>\n    </div>\n  </div>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  selector: 'cx-dot-spinner',\n  templateUrl: './dot-spinner.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DotSpinnerComponent {}\n","<div></div>\n<div></div>\n<div></div>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { FormControl, ValidatorFn, Validators } from '@angular/forms';\nimport { AsmBindCartFacade } from '@spartacus/asm/root';\nimport { ActiveCartFacade, MultiCartFacade } from '@spartacus/cart/base/root';\nimport { SavedCartFacade } from '@spartacus/cart/saved-cart/root';\nimport {\n  GlobalMessageService,\n  GlobalMessageType,\n  HttpErrorModel,\n  OCC_CART_ID_CURRENT,\n} from '@spartacus/core';\nimport { LaunchDialogService, LAUNCH_CALLER } from '@spartacus/storefront';\nimport {\n  BehaviorSubject,\n  combineLatest,\n  defer,\n  EMPTY,\n  iif,\n  Observable,\n  Subscription,\n} from 'rxjs';\nimport {\n  concatMap,\n  filter,\n  finalize,\n  map,\n  shareReplay,\n  take,\n  tap,\n} from 'rxjs/operators';\nimport { BIND_CART_DIALOG_ACTION } from '../asm-bind-cart-dialog/asm-bind-cart-dialog.component';\n\n@Component({\n  selector: 'cx-asm-bind-cart',\n  templateUrl: './asm-bind-cart.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AsmBindCartComponent implements OnInit, OnDestroy {\n  activeCartValidator: ValidatorFn = (control) => {\n    if (control.value === this.activeCartId) {\n      return { activeCartError: true };\n    }\n    return null;\n  };\n\n  cartId: FormControl<string | null> = new FormControl('', [\n    Validators.required,\n    Validators.minLength(1),\n    this.activeCartValidator,\n  ]);\n\n  loading$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n  valid$ = this.cartId.statusChanges.pipe(\n    map((status) => status === 'VALID'),\n    shareReplay(1)\n  );\n\n  activeCartId = '';\n\n  @ViewChild('bindToCart') bindToCartElemRef: ElementRef<HTMLButtonElement>;\n\n  protected subscription = new Subscription();\n\n  constructor(\n    protected globalMessageService: GlobalMessageService,\n    protected activeCartFacade: ActiveCartFacade,\n    protected multiCartFacade: MultiCartFacade,\n    protected asmBindCartFacade: AsmBindCartFacade,\n    protected launchDialogService: LaunchDialogService,\n    protected savedCartFacade: SavedCartFacade\n  ) {}\n\n  ngOnInit(): void {\n    this.subscription.add(\n      this.activeCartFacade.getActiveCartId().subscribe((response) => {\n        this.activeCartId = response ?? '';\n\n        this.cartId.setValue(this.activeCartId);\n      })\n    );\n  }\n\n  resetInput() {\n    if (!this.cartId.value) {\n      this.cartId.setValue(this.activeCartId);\n    }\n  }\n\n  /**\n   * Bind the input cart number to the customer\n   */\n  bindCartToCustomer() {\n    const anonymousCartId = this.cartId.value;\n\n    const subscription = combineLatest([\n      this.loading$.asObservable(),\n      this.valid$,\n    ])\n      .pipe(\n        take(1),\n        filter(([loading, valid]) => !loading && valid),\n        tap(() => this.loading$.next(true)),\n        concatMap(() =>\n          this.activeCartFacade.getActive().pipe(\n            map((cart) => cart.deliveryItemsQuantity ?? 0),\n            take(1)\n          )\n        ),\n        concatMap((cartItemCount) =>\n          iif(\n            () => Boolean(this.activeCartId && cartItemCount),\n            this.openDialog(this.activeCartId, anonymousCartId as string),\n            this.simpleBindCart(anonymousCartId as string)\n          )\n        ),\n        finalize(() => this.loading$.next(false))\n      )\n      .subscribe(\n        () => {\n          this.globalMessageService.add(\n            { key: 'asm.bindCart.success' },\n            GlobalMessageType.MSG_TYPE_CONFIRMATION\n          );\n        },\n        (error: HttpErrorModel) => {\n          this.globalMessageService.add(\n            error.details?.[0].message ?? '',\n            GlobalMessageType.MSG_TYPE_ERROR\n          );\n        }\n      );\n\n    this.subscription.add(subscription);\n  }\n\n  clearText() {\n    this.cartId.setValue('');\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  /**\n   * Binds cart on subscription and reloads cart\n   */\n  protected simpleBindCart(anonymousCartId: string): Observable<unknown> {\n    return defer(() => this.asmBindCartFacade.bindCart(anonymousCartId)).pipe(\n      tap(() => this.multiCartFacade.reloadCart(OCC_CART_ID_CURRENT))\n    );\n  }\n\n  /**\n   * Opens dialog and passes non-cancel result to select action\n   */\n  protected openDialog(activeCartId: string, anonymousCartId: string) {\n    return defer(() => {\n      this.launchDialogService.openDialogAndSubscribe(\n        LAUNCH_CALLER.ASM_BIND_CART,\n        this.bindToCartElemRef\n      );\n      return this.launchDialogService.dialogClose.pipe(\n        filter((result) => Boolean(result)),\n        take(1)\n      ) as Observable<BIND_CART_DIALOG_ACTION>;\n    }).pipe(\n      filter((dialogResult) => Boolean(dialogResult)),\n      concatMap((dialogResult) => {\n        return this.selectBindAction(\n          activeCartId,\n          anonymousCartId,\n          dialogResult\n        );\n      })\n    );\n  }\n\n  protected selectBindAction(\n    activeCartId: string,\n    anonymousCartId: string,\n    action: BIND_CART_DIALOG_ACTION\n  ): Observable<unknown> {\n    switch (action) {\n      case BIND_CART_DIALOG_ACTION.REPLACE:\n        return this.replaceCart(activeCartId, anonymousCartId);\n\n      case BIND_CART_DIALOG_ACTION.CANCEL:\n      default:\n        return EMPTY;\n    }\n  }\n\n  protected replaceCart(\n    previousActiveCartId: string,\n    anonymousCartId: string\n  ): Observable<unknown> {\n    return this.simpleBindCart(anonymousCartId).pipe(\n      tap(() => {\n        this.savedCartFacade.saveCart({\n          cartId: previousActiveCartId,\n          saveCartName: previousActiveCartId,\n          // TODO(#12660): Remove default value once backend is updated\n          saveCartDescription: '-',\n        });\n      })\n    );\n  }\n}\n","<form (submit)=\"bindCartToCustomer()\">\n  <label for=\"cartNumber\">{{ 'asm.bindCart.cartNumber' | cxTranslate }} </label>\n  <div\n    role=\"search\"\n    [attr.aria-label]=\"'asm.bindCart.assignCartId' | cxTranslate\"\n    class=\"cx-asm-assignCart\"\n    [class.active]=\"valid$ | async\"\n    (click)=\"cartIdElement.focus()\"\n  >\n    <input\n      autocomplete=\"off\"\n      #cartIdElement\n      formcontrolname=\"cartNumber\"\n      [formControl]=\"cartId\"\n      (keydown.enter)=\"bindCartToCustomer()\"\n      (blur)=\"resetInput()\"\n      [attr.aria-label]=\"'asm.bindCart.enterCartId' | cxTranslate\"\n    />\n    <button\n      class=\"cx-asm-reset\"\n      [attr.aria-label]=\"'asm.bindCart.resetCartId' | cxTranslate\"\n      [class.visible]=\"cartId.value?.length > 0\"\n      (click)=\"clearText()\"\n    >\n      <cx-icon class=\"cx-icon fas fa-times-circle\"></cx-icon>\n    </button>\n  </div>\n  <button\n    #bindToCart\n    class=\"cx-asm-bindCartToCustomer\"\n    [disabled]=\"!(valid$ | async)\"\n    type=\"submit\"\n    [class.cx-asm-active]=\"valid$ | async\"\n    [class.cx-bind-loading]=\"loading$ | async\"\n  >\n    <span [attr.aria-hidden]=\"loading$ | async\">\n      {{ 'asm.bindCart.bindCartToCustomer' | cxTranslate }}\n    </span>\n    <cx-dot-spinner\n      [attr.aria-hidden]=\"!(loading$ | async)\"\n      [attr.aria-label]=\"'common.loading' | cxTranslate\"\n    ></cx-dot-spinner>\n  </button>\n</form>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable } from '@angular/core';\nimport {\n  ASM_ENABLED_LOCAL_STORAGE_KEY,\n  CsAgentAuthService,\n} from '@spartacus/asm/root';\nimport { AuthService, WindowRef } from '@spartacus/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AsmComponentService {\n  constructor(\n    protected authService: AuthService,\n    protected csAgentAuthService: CsAgentAuthService,\n    protected winRef: WindowRef\n  ) {}\n\n  logoutCustomerSupportAgentAndCustomer(): void {\n    this.csAgentAuthService.logoutCustomerSupportAgent();\n  }\n\n  logoutCustomer(): void {\n    this.authService.logout();\n  }\n\n  isCustomerEmulationSessionInProgress(): Observable<boolean> {\n    return this.csAgentAuthService.isCustomerEmulated();\n  }\n\n  /**\n   * We're currently only removing the persisted storage in the browser\n   * to ensure the ASM experience isn't loaded on the next visit. There are a few\n   * optimizations we could think of:\n   * - drop the `asm` parameter from the URL, in case it's still there\n   * - remove the generated UI from the DOM (outlets currently do not support this)\n   */\n  unload() {\n    if (this.winRef.localStorage) {\n      this.winRef.localStorage.removeItem(ASM_ENABLED_LOCAL_STORAGE_KEY);\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {\n  UntypedFormBuilder,\n  UntypedFormGroup,\n  Validators,\n} from '@angular/forms';\n\n@Component({\n  selector: 'cx-csagent-login-form',\n  templateUrl: './csagent-login-form.component.html',\n})\nexport class CSAgentLoginFormComponent implements OnInit {\n  csAgentLoginForm: UntypedFormGroup;\n\n  @Input()\n  csAgentTokenLoading = false;\n\n  @Output()\n  submitEvent = new EventEmitter<{ userId: string; password: string }>();\n\n  constructor(protected fb: UntypedFormBuilder) {}\n\n  ngOnInit(): void {\n    this.csAgentLoginForm = this.fb.group({\n      userId: ['', [Validators.required]],\n      password: ['', [Validators.required]],\n    });\n  }\n\n  onSubmit(): void {\n    if (this.csAgentLoginForm.valid) {\n      this.submitEvent.emit({\n        userId: this.csAgentLoginForm.get('userId')?.value,\n        password: this.csAgentLoginForm.get('password')?.value,\n      });\n    } else {\n      this.csAgentLoginForm.markAllAsTouched();\n    }\n  }\n}\n","<form\n  (ngSubmit)=\"onSubmit()\"\n  [formGroup]=\"csAgentLoginForm\"\n  *ngIf=\"!csAgentTokenLoading\"\n>\n  <label>\n    <input\n      required=\"true\"\n      type=\"text\"\n      formControlName=\"userId\"\n      placeholder=\"{{ 'asm.loginForm.userId.label' | cxTranslate }}\"\n      [attr.aria-label]=\"'asm.loginForm.userId.label' | cxTranslate\"\n    />\n    <cx-form-errors [control]=\"csAgentLoginForm.get('userId')\"></cx-form-errors>\n  </label>\n\n  <label>\n    <input\n      required=\"true\"\n      type=\"password\"\n      placeholder=\"{{ 'asm.loginForm.password.label' | cxTranslate }}\"\n      formControlName=\"password\"\n      [attr.aria-label]=\"'asm.loginForm.password.label' | cxTranslate\"\n      cxPasswordVisibilitySwitch\n    />\n    <cx-form-errors\n      [control]=\"csAgentLoginForm.get('password')\"\n    ></cx-form-errors>\n  </label>\n  <button type=\"submit\">\n    {{ 'asm.loginForm.submit' | cxTranslate }}\n  </button>\n</form>\n\n<cx-dot-spinner\n  *ngIf=\"csAgentTokenLoading\"\n  aria-hidden=\"false\"\n  [attr.aria-label]=\"'common.loading' | cxTranslate\"\n></cx-dot-spinner>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  Component,\n  ElementRef,\n  EventEmitter,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n} from '@angular/core';\nimport {\n  UntypedFormBuilder,\n  UntypedFormGroup,\n  Validators,\n} from '@angular/forms';\nimport { AsmService } from '@spartacus/asm/core';\nimport { AsmConfig, CustomerSearchPage } from '@spartacus/asm/root';\n\nimport { User } from '@spartacus/core';\nimport { DirectionMode, DirectionService } from '@spartacus/storefront';\nimport { Observable, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'cx-customer-selection',\n  templateUrl: './customer-selection.component.html',\n  host: {\n    '(document:click)': 'onDocumentClick($event)',\n  },\n})\nexport class CustomerSelectionComponent implements OnInit, OnDestroy {\n  customerSelectionForm: UntypedFormGroup;\n  protected subscription = new Subscription();\n  searchResultsLoading$: Observable<boolean>;\n  searchResults: Observable<CustomerSearchPage>;\n  selectedCustomer: User | undefined;\n\n  @Output()\n  submitEvent = new EventEmitter<{ customerId?: string }>();\n\n  @ViewChild('resultList') resultList: ElementRef;\n  @ViewChild('searchTerm') searchTerm: ElementRef;\n  @ViewChildren('searchResultItem') searchResultItems: QueryList<\n    ElementRef<HTMLElement>\n  >;\n\n  activeFocusedButtonIndex = -1;\n\n  constructor(\n    protected fb: UntypedFormBuilder,\n    protected asmService: AsmService,\n    protected config: AsmConfig,\n    protected directionService: DirectionService\n  ) {}\n\n  ngOnInit(): void {\n    this.customerSelectionForm = this.fb.group({\n      searchTerm: ['', Validators.required],\n    });\n    this.asmService.customerSearchReset();\n    this.searchResultsLoading$ =\n      this.asmService.getCustomerSearchResultsLoading();\n    this.searchResults = this.asmService.getCustomerSearchResults();\n\n    this.subscription.add(\n      this.customerSelectionForm.controls.searchTerm.valueChanges\n        .pipe(debounceTime(300))\n        .subscribe((searchTermValue) => {\n          this.handleSearchTerm(searchTermValue);\n        })\n    );\n  }\n\n  protected handleSearchTerm(searchTermValue: string) {\n    if (\n      !!this.selectedCustomer &&\n      searchTermValue !== this.selectedCustomer.name\n    ) {\n      this.selectedCustomer = undefined;\n    }\n    if (Boolean(this.selectedCustomer)) {\n      return;\n    }\n    this.asmService.customerSearchReset();\n    this.activeFocusedButtonIndex = -1;\n    if (searchTermValue.trim().length >= 3) {\n      this.asmService.customerSearch({\n        query: searchTermValue,\n        pageSize: this.config.asm?.customerSearch?.maxResults,\n      });\n    }\n  }\n\n  selectCustomerFromList(event: UIEvent, customer: User) {\n    this.selectedCustomer = customer;\n    this.customerSelectionForm.controls.searchTerm.setValue(\n      this.selectedCustomer.name\n    );\n    this.asmService.customerSearchReset();\n    this.searchTerm.nativeElement.focus();\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  onSubmit(): void {\n    if (this.customerSelectionForm.valid && !!this.selectedCustomer) {\n      this.submitEvent.emit({ customerId: this.selectedCustomer.customerId });\n    } else {\n      this.customerSelectionForm.markAllAsTouched();\n    }\n  }\n\n  onDocumentClick(event: UIEvent) {\n    if (Boolean(this.resultList)) {\n      if (\n        this.resultList.nativeElement.contains(event.target) ||\n        this.searchTerm.nativeElement.contains(event.target)\n      ) {\n        return;\n      } else {\n        this.asmService.customerSearchReset();\n      }\n    }\n  }\n\n  closeResults(event: UIEvent) {\n    this.asmService.customerSearchReset();\n    this.searchTerm.nativeElement.focus();\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.asmService.customerSearchReset();\n  }\n\n  /**\n   * set focus to the first searched item\n   * @param event keyboard event\n   */\n  focusFirstItem(event: UIEvent): void {\n    event.preventDefault();\n    this.activeFocusedButtonIndex = 0;\n    this.updateItemIndex(this.activeFocusedButtonIndex);\n  }\n  /**\n   * set mouse cursor to the end of search text\n   * @param event keyboard event\n   */\n  setSelectionEnd(event: UIEvent): void {\n    event.preventDefault();\n    if (this.searchTerm.nativeElement.value?.length) {\n      const selectionStart = this.searchTerm.nativeElement.value.length;\n      this.searchTerm.nativeElement.selectionStart = selectionStart;\n      this.searchTerm.nativeElement.selectionEnd = selectionStart;\n    }\n  }\n  /**\n   * set focus on previous searh result item.  If no previous item then go to end of item.\n   * @param event keyboard event\n   */\n  focusPreviousChild(event: UIEvent): void {\n    event.preventDefault();\n    this.activeFocusedButtonIndex--;\n    if (this.activeFocusedButtonIndex < 0) {\n      this.activeFocusedButtonIndex = this.searchResultItems.length - 1;\n    }\n    this.updateItemIndex(this.activeFocusedButtonIndex);\n  }\n  /**\n   * set focus on next searh result item.  if no next item then go to the first item\n   * @param event keyboard event\n   */\n  focusNextChild(event: UIEvent): void {\n    event.preventDefault();\n    this.activeFocusedButtonIndex++;\n    if (this.activeFocusedButtonIndex > this.searchResultItems.length - 1) {\n      this.activeFocusedButtonIndex = 0;\n    }\n    this.updateItemIndex(this.activeFocusedButtonIndex);\n  }\n  /**\n   * set focus to input search text\n   * @param event keyboard event\n   */\n  focusInputText(event: KeyboardEvent): void {\n    event.preventDefault();\n    this.activeFocusedButtonIndex = -1;\n    this.searchTerm.nativeElement.focus();\n    if (this.searchTerm.nativeElement.value?.length) {\n      let selectionPos = this.searchTerm.nativeElement.selectionEnd;\n      const searchTermLength = this.searchTerm.nativeElement.value.length;\n\n      if (this.isBackNavigation(event)) {\n        selectionPos = selectionPos <= 0 ? 0 : selectionPos - 1;\n      } else if (this.isForwardsNavigation(event)) {\n        selectionPos =\n          selectionPos >= searchTermLength\n            ? searchTermLength\n            : selectionPos + 1;\n      } else if (event.code === 'Home') {\n        selectionPos = 0;\n      } else if (event.code === 'End') {\n        selectionPos = searchTermLength;\n      }\n      this.searchTerm.nativeElement.selectionStart = selectionPos;\n      this.searchTerm.nativeElement.selectionEnd = selectionPos;\n    }\n  }\n  /**\n   * set focus to selected item\n   * @param {number} selectedIndex - current selected item index\n   */\n  updateItemIndex(selectedIndex: number): void {\n    this.searchResultItems.toArray()?.[selectedIndex]?.nativeElement.focus();\n  }\n  /**\n   * Verifies whether the user navigates into a subgroup of the main group menu.\n   *\n   * @param {KeyboardEvent} event - Keyboard event\n   * @returns {boolean} -'true' if the user navigates into the subgroup, otherwise 'false'.\n   * @protected\n   */\n  protected isForwardsNavigation(event: KeyboardEvent): boolean {\n    return (\n      (event.code === 'ArrowRight' && this.isLTRDirection()) ||\n      (event.code === 'ArrowLeft' && this.isRTLDirection())\n    );\n  }\n\n  /**\n   * Verifies whether the user navigates from a subgroup back to the main group menu.\n   *\n   * @param {KeyboardEvent} event - Keyboard event\n   * @returns {boolean} -'true' if the user navigates back into the main group menu, otherwise 'false'.\n   * @protected\n   */\n  protected isBackNavigation(event: KeyboardEvent): boolean {\n    return (\n      (event.code === 'ArrowLeft' && this.isLTRDirection()) ||\n      (event.code === 'ArrowRight' && this.isRTLDirection())\n    );\n  }\n  protected isLTRDirection(): boolean {\n    return this.directionService.getDirection() === DirectionMode.LTR;\n  }\n\n  protected isRTLDirection(): boolean {\n    return this.directionService.getDirection() === DirectionMode.RTL;\n  }\n}\n","<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"customerSelectionForm\">\n  <label>\n    <input\n      required=\"true\"\n      #searchTerm\n      type=\"text\"\n      formControlName=\"searchTerm\"\n      [attr.aria-label]=\"'asm.customerSearch.searchTerm.label' | cxTranslate\"\n      placeholder=\"{{ 'asm.customerSearch.searchTerm.label' | cxTranslate }}\"\n      (keydown.arrowdown)=\"focusFirstItem($event)\"\n      (keydown.end)=\"setSelectionEnd($event)\"\n    />\n    <cx-form-errors\n      [control]=\"customerSelectionForm.get('searchTerm')\"\n    ></cx-form-errors>\n  </label>\n  <button type=\"submit\" [class.active]=\"selectedCustomer\">\n    {{ 'asm.customerSearch.submit' | cxTranslate }}\n  </button>\n</form>\n\n<div *ngIf=\"searchResults | async as results\" class=\"asm-results\" #resultList>\n  <button\n    #searchResultItem\n    *ngFor=\"let result of results.entries; let i = index\"\n    [tabindex]=\"activeFocusedButtonIndex === i ? 0 : -1\"\n    [attr.aria-selected]=\"activeFocusedButtonIndex === i\"\n    [class.active]=\"activeFocusedButtonIndex === i\"\n    (keydown.arrowup)=\"focusPreviousChild($event)\"\n    (keydown.arrowdown)=\"focusNextChild($event)\"\n    (keydown.arrowright)=\"focusInputText($event)\"\n    (keydown.arrowleft)=\"focusInputText($event)\"\n    (keydown.enter)=\"selectCustomerFromList($event, result)\"\n    (keydown.escape)=\"closeResults($event)\"\n    (keydown.home)=\"focusInputText($event)\"\n    (keydown.end)=\"focusInputText($event)\"\n    (click)=\"selectCustomerFromList($event, result)\"\n  >\n    <span class=\"result-name\">{{ result.name }}</span>\n    <span class=\"result-id\">{{ result.uid }}</span>\n  </button>\n  <button\n    #searchResultItem\n    (click)=\"closeResults($event)\"\n    (keydown.enter)=\"closeResults($event)\"\n    (keydown.escape)=\"closeResults($event)\"\n    (keydown.arrowright)=\"focusInputText($event)\"\n    (keydown.arrowleft)=\"focusInputText($event)\"\n    (keydown.home)=\"focusInputText($event)\"\n    (keydown.end)=\"focusInputText($event)\"\n    [class.active]=\"activeFocusedButtonIndex === 0\"\n    [attr.aria-selected]=\"activeFocusedButtonIndex === 0\"\n    *ngIf=\"\n      !(searchResultsLoading$ | async) &&\n      searchTerm.value.length >= 3 &&\n      !!results.entries &&\n      results.entries.length <= 0\n    \"\n  >\n    {{ 'asm.customerSearch.noMatch' | cxTranslate }}\n  </button>\n</div>\n\n<div class=\"asm-results\" *ngIf=\"searchResultsLoading$ | async\">\n  <cx-dot-spinner\n    aria-hidden=\"false\"\n    [attr.aria-label]=\"'common.loading' | cxTranslate\"\n  ></cx-dot-spinner>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'formatTimer',\n})\nexport class FormatTimerPipe implements PipeTransform {\n  transform(totalSeconds: number): string {\n    if (totalSeconds < 0) {\n      totalSeconds = 0;\n    }\n    const minutes: number = Math.floor(totalSeconds / 60);\n    const seconds: number = totalSeconds % 60;\n    let zeroPaddedMinutes: string;\n    if (minutes < 10) {\n      zeroPaddedMinutes = ('00' + minutes).slice(-2);\n    } else {\n      zeroPaddedMinutes = minutes + '';\n    }\n    const zeroPaddedSeconds: string = ('00' + seconds).slice(-2);\n    return `${zeroPaddedMinutes}:${zeroPaddedSeconds}`;\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { AsmConfig } from '@spartacus/asm/root';\nimport { RoutingService, UserIdService } from '@spartacus/core';\nimport { Subscription } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { AsmComponentService } from '../services/asm-component.service';\n\n@Component({\n  selector: 'cx-asm-session-timer',\n  templateUrl: './asm-session-timer.component.html',\n})\nexport class AsmSessionTimerComponent implements OnInit, OnDestroy {\n  protected subscriptions = new Subscription();\n  protected interval: any;\n  protected maxStartDelayInSeconds = 60000;\n  timeLeft: number;\n\n  constructor(\n    protected config: AsmConfig,\n    protected asmComponentService: AsmComponentService,\n    protected routingService: RoutingService,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected userIdService: UserIdService\n  ) {}\n\n  ngOnInit(): void {\n    this.timeLeft = this.getTimerStartDelayInSeconds();\n    this.interval = setInterval(() => {\n      if (this.timeLeft > 0) {\n        this.timeLeft--;\n      } else {\n        clearInterval(this.interval);\n        this.asmComponentService.logoutCustomerSupportAgentAndCustomer();\n      }\n      this.changeDetectorRef.markForCheck();\n    }, 1000);\n\n    this.resetOnNavigate();\n    this.resetOnCustomerSessionChange();\n  }\n\n  protected resetOnNavigate(): void {\n    this.subscriptions.add(\n      this.routingService.isNavigating().subscribe((isNavigating) => {\n        if (isNavigating) {\n          this.resetTimer();\n        }\n      })\n    );\n  }\n\n  protected resetOnCustomerSessionChange(): void {\n    this.subscriptions.add(\n      this.userIdService\n        .getUserId()\n        .pipe(distinctUntilChanged())\n        .subscribe(() => this.resetTimer())\n    );\n  }\n\n  resetTimer(): void {\n    if (this.timeLeft > 0) {\n      this.timeLeft = this.getTimerStartDelayInSeconds();\n    }\n  }\n\n  protected getTimerStartDelayInSeconds(): number {\n    if (\n      this.config.asm?.agentSessionTimer?.startingDelayInSeconds === undefined\n    ) {\n      return 600;\n    }\n    if (\n      this.config.asm.agentSessionTimer.startingDelayInSeconds >\n      this.maxStartDelayInSeconds\n    ) {\n      return this.maxStartDelayInSeconds;\n    } else {\n      return this.config.asm.agentSessionTimer.startingDelayInSeconds;\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n}\n","<span class=\"label\">{{ 'asm.agentSessionTimer.label' | cxTranslate }}:</span>\n<span class=\"time\"\n  >{{ timeLeft | formatTimer }}\n  {{ 'asm.agentSessionTimer.minutes' | cxTranslate }}</span\n>\n<button\n  class=\"reset\"\n  title=\"{{ 'asm.agentSessionTimer.reset' | cxTranslate }}\"\n  (click)=\"resetTimer()\"\n></button>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { User } from '@spartacus/core';\nimport { UserAccountFacade } from '@spartacus/user/account/root';\nimport { Observable, Subscription } from 'rxjs';\nimport { AsmComponentService } from '../services/asm-component.service';\n\n@Component({\n  selector: 'cx-customer-emulation',\n  templateUrl: './customer-emulation.component.html',\n})\nexport class CustomerEmulationComponent implements OnInit, OnDestroy {\n  customer: User;\n  isCustomerEmulationSessionInProgress$: Observable<boolean>;\n  protected subscription = new Subscription();\n\n  constructor(\n    protected asmComponentService: AsmComponentService,\n    protected userAccountFacade: UserAccountFacade\n  ) {}\n\n  ngOnInit() {\n    this.subscription.add(\n      this.userAccountFacade.get().subscribe((user) => {\n        if (user) {\n          this.customer = user;\n        }\n      })\n    );\n    this.isCustomerEmulationSessionInProgress$ =\n      this.asmComponentService.isCustomerEmulationSessionInProgress();\n  }\n\n  logoutCustomer() {\n    this.asmComponentService.logoutCustomer();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","<ng-container *ngIf=\"isCustomerEmulationSessionInProgress$ | async\">\n  <div class=\"cx-asm-customerInfo\">\n    <label class=\"cx-asm-name\">{{ customer?.name }}</label>\n    <label class=\"cx-asm-uid\">{{ customer?.uid }}</label>\n  </div>\n  <cx-asm-bind-cart></cx-asm-bind-cart>\n  <button formcontrolname=\"logoutCustomer\" (click)=\"logoutCustomer()\">\n    {{ 'asm.endSession' | cxTranslate }}\n  </button>\n</ng-container>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { AsmService } from '@spartacus/asm/core';\nimport { AsmUi } from '@spartacus/asm/root';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'cx-asm-toggle-ui',\n  templateUrl: './asm-toggle-ui.component.html',\n})\nexport class AsmToggleUiComponent implements OnInit, OnDestroy {\n  protected subscription = new Subscription();\n  isCollapsed: boolean;\n\n  constructor(protected asmService: AsmService) {}\n\n  ngOnInit(): void {\n    this.subscription.add(\n      this.asmService.getAsmUiState().subscribe((uiState: AsmUi) => {\n        this.isCollapsed =\n          uiState.collapsed === undefined ? false : uiState.collapsed;\n      })\n    );\n  }\n\n  toggleUi(): void {\n    this.asmService.updateAsmUiState({ collapsed: !this.isCollapsed });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","<a class=\"toggleUi\" (click)=\"toggleUi()\" tabindex=\"0\" role=\"button\">\n  <span [ngClass]=\"!isCollapsed ? 'collapseIcon' : 'expandIcon'\"></span>\n  <span *ngIf=\"!isCollapsed\" class=\"label\">\n    {{ 'asm.toggleUi.collapse' | cxTranslate }}\n  </span>\n  <span *ngIf=\"isCollapsed\" class=\"label\">\n    {{ 'asm.toggleUi.expand' | cxTranslate }}\n  </span>\n</a>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  Component,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { AsmService } from '@spartacus/asm/core';\nimport {\n  AsmUi,\n  CsAgentAuthService,\n  CustomerListColumnActionType,\n} from '@spartacus/asm/root';\nimport {\n  AuthService,\n  GlobalMessageService,\n  GlobalMessageType,\n  RoutingService,\n  User,\n} from '@spartacus/core';\nimport {\n  ICON_TYPE,\n  LaunchDialogService,\n  LAUNCH_CALLER,\n} from '@spartacus/storefront';\nimport { UserAccountFacade } from '@spartacus/user/account/root';\nimport { Observable, of, Subscription } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  switchMap,\n  take,\n  tap,\n} from 'rxjs/operators';\nimport { CustomerListAction } from '../customer-list/customer-list.model';\nimport { AsmComponentService } from '../services/asm-component.service';\n@Component({\n  selector: 'cx-asm-main-ui',\n  templateUrl: './asm-main-ui.component.html',\n})\nexport class AsmMainUiComponent implements OnInit, OnDestroy {\n  customerSupportAgentLoggedIn$: Observable<boolean>;\n  csAgentTokenLoading$: Observable<boolean>;\n  customer$: Observable<User | undefined>;\n  isCollapsed$: Observable<boolean> | undefined;\n  iconTypes = ICON_TYPE;\n\n  @HostBinding('class.hidden') disabled = false;\n\n  protected startingCustomerSession = false;\n\n  subscription: Subscription = new Subscription();\n\n  @ViewChild('customerListLink') element: ElementRef;\n\n  constructor(\n    protected authService: AuthService,\n    protected csAgentAuthService: CsAgentAuthService,\n    protected asmComponentService: AsmComponentService,\n    protected globalMessageService: GlobalMessageService,\n    protected routingService: RoutingService,\n    protected asmService: AsmService,\n    protected userAccountFacade: UserAccountFacade,\n    protected launchDialogService: LaunchDialogService\n  ) {}\n\n  ngOnInit(): void {\n    this.customerSupportAgentLoggedIn$ = this.csAgentAuthService\n      .isCustomerSupportAgentLoggedIn()\n      .pipe(\n        distinctUntilChanged(),\n        tap((loggedIn) => {\n          if (!loggedIn) {\n            this.closeModal();\n          }\n        })\n      );\n\n    this.csAgentTokenLoading$ =\n      this.csAgentAuthService.getCustomerSupportAgentTokenLoading();\n    this.customer$ = this.authService.isUserLoggedIn().pipe(\n      switchMap((isLoggedIn) => {\n        if (isLoggedIn) {\n          this.handleCustomerSessionStartRedirection();\n          return this.userAccountFacade.get();\n        } else {\n          return of(undefined);\n        }\n      })\n    );\n    this.isCollapsed$ = this.asmService\n      .getAsmUiState()\n      .pipe(\n        map((uiState: AsmUi) =>\n          uiState.collapsed === undefined ? false : uiState.collapsed\n        )\n      );\n    this.subscription.add(\n      this.launchDialogService.dialogClose\n        .pipe(filter((result) => Boolean(result)))\n        .subscribe((result: CustomerListAction) => {\n          if (result.selectedUser) {\n            this.startCustomerEmulationSession(result.selectedUser);\n            if (\n              result.actionType === CustomerListColumnActionType.ORDER_HISTORY\n            ) {\n              this.routingService.go({ cxRoute: 'orders' });\n            }\n          }\n        })\n    );\n  }\n\n  protected handleCustomerSessionStartRedirection(): void {\n    this.asmComponentService\n      .isCustomerEmulationSessionInProgress()\n      .pipe(take(1))\n      .subscribe((isCustomerEmulated) => {\n        if (this.startingCustomerSession && isCustomerEmulated) {\n          this.startingCustomerSession = false;\n          this.globalMessageService.remove(GlobalMessageType.MSG_TYPE_ERROR);\n          this.routingService.go('/');\n        }\n      });\n  }\n\n  loginCustomerSupportAgent({\n    userId,\n    password,\n  }: {\n    userId: string;\n    password: string;\n  }): void {\n    this.csAgentAuthService.authorizeCustomerSupportAgent(userId, password);\n  }\n\n  logout(): void {\n    this.asmComponentService.logoutCustomerSupportAgentAndCustomer();\n  }\n\n  startCustomerEmulationSession({ customerId }: { customerId?: string }): void {\n    if (customerId) {\n      this.csAgentAuthService.startCustomerEmulationSession(customerId);\n      this.startingCustomerSession = true;\n    } else {\n      this.globalMessageService.add(\n        { key: 'asm.error.noCustomerId' },\n        GlobalMessageType.MSG_TYPE_ERROR\n      );\n    }\n  }\n\n  hideUi(): void {\n    this.disabled = true;\n    this.asmComponentService.unload();\n  }\n\n  showCustomList(): void {\n    this.launchDialogService.openDialogAndSubscribe(\n      LAUNCH_CALLER.ASM_CUSTOMER_LIST,\n      this.element\n    );\n  }\n\n  closeModal(): void {\n    this.launchDialogService.closeDialog('logout');\n  }\n\n  ngOnDestroy() {\n    this.subscription?.unsubscribe();\n  }\n}\n","<div class=\"asm-bar\">\n  <div class=\"asm-bar-branding\">\n    <img\n      class=\"logo\"\n      src=\"data:image/png;base64,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\"\n      width=\"48\"\n      height=\"24\"\n      alt=\"{{ 'asm.mainLogoLabel' | cxTranslate }}\"\n    />\n\n    <div class=\"asm-title\">\n      {{ 'asm.mainTitle' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"asm-bar-actions\">\n    <div\n      class=\"cx-asm-customer-list\"\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n    >\n      <a\n        #customerListLink\n        tabindex=\"0\"\n        role=\"button\"\n        class=\"cx-asm-customer-list-link\"\n        (click)=\"showCustomList()\"\n      >\n        <cx-icon [type]=\"iconTypes.USER_FRIENDS\"></cx-icon>\n        <span>{{ 'asm.customers' | cxTranslate }}</span></a\n      >\n    </div>\n\n    <cx-asm-toggle-ui></cx-asm-toggle-ui>\n\n    <cx-asm-session-timer\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n    ></cx-asm-session-timer>\n\n    <button\n      class=\"close\"\n      title=\"{{ 'asm.hideUi' | cxTranslate }}\"\n      *ngIf=\"\n        !(customerSupportAgentLoggedIn$ | async) &&\n        !(csAgentTokenLoading$ | async)\n      \"\n      (click)=\"hideUi()\"\n    ></button>\n\n    <button\n      class=\"logout\"\n      title=\"{{ 'asm.logout' | cxTranslate }}\"\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n      (click)=\"logout()\"\n    ></button>\n  </div>\n</div>\n\n<ng-container *ngIf=\"!(isCollapsed$ | async) as notCollapsed\">\n  <ng-container\n    *ngIf=\"customerSupportAgentLoggedIn$ | async; else showLoginForm\"\n  >\n    <ng-container *ngIf=\"customer$ | async; else showCustomerSelection\">\n      <cx-customer-emulation *ngIf=\"notCollapsed\"></cx-customer-emulation>\n    </ng-container>\n    <ng-template #showCustomerSelection>\n      <cx-customer-selection\n        *ngIf=\"notCollapsed\"\n        (submitEvent)=\"startCustomerEmulationSession($event)\"\n      ></cx-customer-selection>\n    </ng-template>\n  </ng-container>\n\n  <ng-template #showLoginForm>\n    <cx-csagent-login-form\n      *ngIf=\"notCollapsed\"\n      (submitEvent)=\"loginCustomerSupportAgent($event)\"\n      [csAgentTokenLoading]=\"csAgentTokenLoading$ | async\"\n    ></cx-csagent-login-form>\n  </ng-template>\n</ng-container>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport {\n  AsmConfig,\n  AsmCustomerListFacade,\n  CustomerListColumnActionType,\n  CustomerListsPage,\n  CustomerSearchOptions,\n  CustomerSearchPage,\n} from '@spartacus/asm/root';\nimport { SortModel, TranslationService, User } from '@spartacus/core';\nimport {\n  BREAKPOINT,\n  BreakpointService,\n  FocusConfig,\n  ICON_TYPE,\n  LaunchDialogService,\n} from '@spartacus/storefront';\nimport { combineLatest, NEVER, Observable, Subscription } from 'rxjs';\nimport { distinctUntilChanged, map, tap } from 'rxjs/operators';\nimport { CustomerListAction } from './customer-list.model';\n\n@Component({\n  selector: 'cx-customer-list',\n  templateUrl: './customer-list.component.html',\n})\nexport class CustomerListComponent implements OnInit, OnDestroy {\n  protected DEFAULT_PAGE_SIZE = 5;\n\n  focusConfig: FocusConfig = {\n    trap: true,\n    block: true,\n    autofocus: 'customer-list-selector',\n    focusOnEscape: true,\n  };\n\n  iconTypes = ICON_TYPE;\n\n  BREAKPOINT = BREAKPOINT;\n\n  selectedUserGroupId: string | undefined;\n\n  customerSearchPage$: Observable<CustomerSearchPage | undefined>;\n\n  customerListsPage$: Observable<CustomerListsPage | undefined>;\n\n  selectedCustomer: User;\n\n  currentPage = 0;\n\n  maxPage = 0;\n\n  loaded = false;\n\n  sorts: SortModel[] | null;\n\n  sortCode: string | undefined;\n\n  breakpoint$: Observable<BREAKPOINT>;\n\n  customerListConfig: Required<AsmConfig>['asm']['customerList'];\n\n  customerSearchLoading$: Observable<boolean>;\n\n  customerSearchError$: Observable<boolean>;\n\n  pageSize: number;\n\n  listsError = false;\n\n  listsEmpty = false;\n\n  protected teardown: Subscription = new Subscription();\n\n  constructor(\n    protected launchDialogService: LaunchDialogService,\n    protected breakpointService: BreakpointService,\n    protected asmConfig: AsmConfig,\n    protected translation: TranslationService,\n    protected asmCustomerListFacade: AsmCustomerListFacade\n  ) {\n    this.breakpoint$ = this.getBreakpoint();\n  }\n\n  ngOnInit(): void {\n    this.pageSize =\n      this.asmConfig.asm?.customerList?.pageSize ?? this.DEFAULT_PAGE_SIZE;\n    this.customerListConfig = this.asmConfig?.asm?.customerList;\n\n    this.customerListsPage$ =\n      this.asmCustomerListFacade.getCustomerListsState().pipe(\n        tap((state) => (this.listsError = !!state.error)),\n        map((state) => {\n          if (state?.data?.userGroups?.length === 0) {\n            this.listsEmpty = true;\n            return undefined;\n          } else {\n            return state.data;\n          }\n        }),\n        distinctUntilChanged(),\n        tap((result) => {\n          // set the first value of this.customerListsPage$ to be selected\n          if (!this.selectedUserGroupId) {\n            this.selectedUserGroupId = result?.userGroups?.[0]?.uid;\n            this.sorts = null;\n            this.fetchCustomers();\n          }\n        })\n      ) ?? NEVER;\n\n    this.customerSearchLoading$ = this.asmCustomerListFacade\n      .getCustomerListCustomersSearchResultsLoading()\n      .pipe(tap((loading) => (this.loaded = !loading)));\n    this.teardown.add(this.customerSearchLoading$.subscribe());\n    this.teardown.add(() =>\n      this.asmCustomerListFacade.customerListCustomersSearchReset()\n    );\n\n    this.customerSearchError$ =\n      this.asmCustomerListFacade.getCustomerListCustomersSearchResultsError();\n\n    this.customerSearchPage$ = this.asmCustomerListFacade\n      .getCustomerListCustomersSearchResults()\n      .pipe(\n        tap((result) => {\n          if (result?.sorts) {\n            this.sorts = result.sorts;\n            this.sortCode = result.pagination?.sort;\n          }\n          if (result?.entries.length < this.pageSize) {\n            this.maxPage = result.pagination?.currentPage ?? 0;\n          } else {\n            this.maxPage = this.currentPage + 1;\n          }\n        })\n      );\n  }\n\n  ngOnDestroy(): void {\n    this.teardown.unsubscribe();\n  }\n\n  fetchCustomers(): void {\n    if (this.selectedUserGroupId) {\n      const options: CustomerSearchOptions = {\n        customerListId: this.selectedUserGroupId,\n        pageSize: this.pageSize,\n        currentPage: this.currentPage,\n      };\n      if (this.sortCode) {\n        options.sort = this.sortCode;\n      }\n\n      this.asmCustomerListFacade.customerListCustomersSearchReset();\n\n      this.asmCustomerListFacade.customerListCustomersSearch(options);\n    }\n  }\n\n  onChangeCustomerGroup(): void {\n    this.currentPage = 0;\n    this.sorts = null;\n    this.sortCode = '';\n    this.fetchCustomers();\n  }\n\n  getGroupName(\n    customerListsPage: CustomerListsPage,\n    id: string | undefined\n  ): string {\n    return (\n      customerListsPage?.userGroups?.find((userGroup) => userGroup.uid === id)\n        ?.name ?? ''\n    );\n  }\n\n  getBadgeText(customerEntry: User): string {\n    return (\n      (customerEntry.firstName?.charAt(0) ?? '') +\n      (customerEntry.lastName?.charAt(0) ?? '')\n    );\n  }\n\n  startColumnAction(\n    customerEntry: User,\n    action: CustomerListColumnActionType\n  ): void {\n    this.selectedCustomer = customerEntry;\n    const closeValue: CustomerListAction = {\n      actionType: action,\n      selectedUser: customerEntry,\n    };\n    this.closeModal(closeValue);\n  }\n\n  changeSortCode(sortCode: string): void {\n    this.sortCode = sortCode;\n    this.fetchCustomers();\n  }\n\n  goToNextPage(): void {\n    if (this.currentPage >= this.maxPage) {\n      this.currentPage = this.maxPage;\n    } else {\n      if (this.loaded) {\n        this.currentPage++;\n        this.fetchCustomers();\n      }\n    }\n  }\n\n  goToPreviousPage(): void {\n    if (this.currentPage <= 0) {\n      this.currentPage = 0;\n    } else {\n      if (this.loaded) {\n        this.currentPage--;\n        this.fetchCustomers();\n      }\n    }\n  }\n\n  closeModal(reason?: any): void {\n    this.launchDialogService.closeDialog(reason);\n  }\n\n  getSortLabels(): Observable<{\n    byNameAsc: string;\n    byNameDesc: string;\n    byOrderDateAsc: string;\n    byOrderDateDesc: string;\n    byDateAsc: string;\n    byDateDesc: string;\n  }> {\n    return combineLatest([\n      this.translation.translate('asm.customerList.tableSort.byNameAsc'),\n      this.translation.translate('asm.customerList.tableSort.byNameDesc'),\n      this.translation.translate('asm.customerList.tableSort.byDateAsc'),\n      this.translation.translate('asm.customerList.tableSort.byDateDesc'),\n      this.translation.translate('asm.customerList.tableSort.byOrderDateAsc'),\n      this.translation.translate('asm.customerList.tableSort.byOrderDateDesc'),\n    ]).pipe(\n      map(\n        ([\n          textByNameAsc,\n          textByNameDesc,\n          textByOrderDateAsc,\n          textByOrderDateDesc,\n          textByDateAsc,\n          textByDateDesc,\n        ]) => {\n          return {\n            byNameAsc: textByNameAsc,\n            byNameDesc: textByNameDesc,\n            byOrderDateAsc: textByOrderDateAsc,\n            byOrderDateDesc: textByOrderDateDesc,\n            byDateAsc: textByDateAsc,\n            byDateDesc: textByDateDesc,\n          };\n        }\n      )\n    );\n  }\n\n  private getBreakpoint(): Observable<BREAKPOINT> {\n    return this.breakpointService.breakpoint$.pipe(\n      map((breakpoint) => {\n        if (breakpoint === BREAKPOINT.lg || breakpoint === BREAKPOINT.xl) {\n          breakpoint = BREAKPOINT.md;\n        }\n        return breakpoint;\n      })\n    );\n  }\n}\n","<div\n  class=\"cx-asm-customer-list cx-modal-container cx-asm-dialog\"\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"closeModal('Escape clicked')\"\n>\n  <div class=\"cx-modal-content\">\n    <!-- Modal Header -->\n    <ng-container>\n      <div class=\"cx-dialog-header modal-header\">\n        <h2 id=\"asm-customer-list-title\" class=\"title modal-title\">\n          {{ 'asm.customerList.title' | cxTranslate }}\n        </h2>\n        <div id=\"asm-customer-list-desc\" class=\"cx-visually-hidden\">\n          {{ 'asm.customerList.description' | cxTranslate }}\n        </div>\n        <ng-template *ngTemplateOutlet=\"closeButton\"></ng-template>\n      </div>\n      <div\n        class=\"cx-dialog-sub-header modal-header\"\n        [class.tablet-mobile]=\"(breakpoint$ | async) !== BREAKPOINT.md\"\n        *ngIf=\"customerListsPage$ | async as customerListsPage\"\n      >\n        <ng-template\n          *ngTemplateOutlet=\"\n            groupSelector;\n            context: { customerListsPage: customerListsPage }\n          \"\n        ></ng-template>\n        <div\n          class=\"cx-header-actions\"\n          [class.mobile]=\"(breakpoint$ | async) === BREAKPOINT.xs\"\n        >\n          <ng-template *ngTemplateOutlet=\"sort\"></ng-template>\n          <ng-template *ngTemplateOutlet=\"pagination\"></ng-template>\n        </div>\n      </div>\n      <!-- Modal Body -->\n      <div class=\"cx-dialog-body modal-body\">\n        <div class=\"cx-dialog-row\">\n          <div class=\"cx-dialog-item\">\n            <div *ngIf=\"listsEmpty\" class=\"cx-error-state\">\n              {{ 'asm.customerList.noLists' | cxTranslate }}\n            </div>\n            <div *ngIf=\"listsError\" class=\"cx-error-state\">\n              {{ 'asm.customerList.listsError' | cxTranslate }}\n            </div>\n            <div *ngIf=\"customerSearchError$ | async\" class=\"cx-error-state\">\n              {{ 'generalErrors.pageFailure' | cxTranslate }}\n            </div>\n            <cx-spinner *ngIf=\"customerSearchLoading$ | async\"></cx-spinner>\n            <div *ngIf=\"customerSearchPage$ | async as customerSearchPage\">\n              <table id=\"asm-cusomer-list-table\" role=\"table\" class=\"table\">\n                <caption class=\"cx-visually-hidden\">\n                  {{\n                    'asm.customerList.title' | cxTranslate\n                  }}\n                </caption>\n                <thead *ngIf=\"(breakpoint$ | async) === BREAKPOINT.md\">\n                  <tr role=\"row\">\n                    <th\n                      role=\"columnheader\"\n                      class=\"cx-avatar-cell\"\n                      *ngIf=\"customerListConfig?.showAvatar\"\n                    >\n                      <span class=\"cx-visually-hidden\">\n                        {{\n                          'asm.customerList.tableHeader.customer' | cxTranslate\n                        }}\n                      </span>\n                    </th>\n                    <th\n                      role=\"columnheader\"\n                      *ngFor=\"let column of customerListConfig?.columns\"\n                    >\n                      <span *ngIf=\"column.headerLocalizationKey\">{{\n                        column.headerLocalizationKey | cxTranslate\n                      }}</span>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    role=\"row\"\n                    *ngFor=\"let customerEntry of customerSearchPage?.entries\"\n                  >\n                    <td\n                      role=\"cell\"\n                      *ngIf=\"customerListConfig?.showAvatar\"\n                      class=\"cx-avatar-cell\"\n                    >\n                      <div class=\"cx-avatar\">\n                        {{ getBadgeText(customerEntry) }}\n                      </div>\n                    </td>\n                    <!-- multi columns if desktop -->\n                    <ng-container\n                      *ngIf=\"(breakpoint$ | async) === BREAKPOINT.md\"\n                    >\n                      <td\n                        role=\"cell\"\n                        *ngFor=\"let column of customerListConfig?.columns\"\n                      >\n                        <ng-template\n                          *ngTemplateOutlet=\"\n                            cell;\n                            context: {\n                              customerEntry: customerEntry,\n                              column: column,\n                              showHeader: false\n                            }\n                          \"\n                        ></ng-template>\n                      </td>\n                    </ng-container>\n                    <!-- two column if tablet -->\n                    <ng-container\n                      *ngIf=\"(breakpoint$ | async) === BREAKPOINT.sm\"\n                    >\n                      <td role=\"cell\" class=\"cx-multi-cell\">\n                        <ng-container\n                          *ngFor=\"\n                            let column of customerListConfig?.columns;\n                            let even = even\n                          \"\n                        >\n                          <ng-container *ngIf=\"even\">\n                            <ng-template\n                              *ngTemplateOutlet=\"\n                                cell;\n                                context: {\n                                  customerEntry: customerEntry,\n                                  column: column,\n                                  showHeader: true\n                                }\n                              \"\n                            ></ng-template>\n                          </ng-container>\n                        </ng-container>\n                      </td>\n                      <td role=\"cell\" class=\"cx-multi-cell\">\n                        <ng-container\n                          *ngFor=\"\n                            let column of customerListConfig?.columns;\n                            let odd = odd\n                          \"\n                        >\n                          <ng-container *ngIf=\"odd\">\n                            <ng-template\n                              *ngTemplateOutlet=\"\n                                cell;\n                                context: {\n                                  customerEntry: customerEntry,\n                                  column: column,\n                                  showHeader: true\n                                }\n                              \"\n                            ></ng-template>\n                          </ng-container>\n                        </ng-container>\n                      </td>\n                    </ng-container>\n                    <!-- one column if mobile -->\n                    <td\n                      role=\"cell\"\n                      class=\"cx-multi-cell\"\n                      *ngIf=\"(breakpoint$ | async) === BREAKPOINT.xs\"\n                    >\n                      <ng-container\n                        *ngFor=\"let column of customerListConfig?.columns\"\n                      >\n                        <ng-template\n                          *ngTemplateOutlet=\"\n                            cell;\n                            context: {\n                              customerEntry: customerEntry,\n                              column: column,\n                              showHeader: true\n                            }\n                          \"\n                        ></ng-template>\n                      </ng-container>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div\n                class=\"cx-empty-state\"\n                *ngIf=\"!customerSearchPage?.entries.length\"\n              >\n                {{ 'asm.customerList.noCustomers' | cxTranslate }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template\n  #cell\n  let-customerEntry=\"customerEntry\"\n  let-column=\"column\"\n  let-showHeader=\"showHeader\"\n>\n  <div class=\"cx-cell-container\">\n    <span class=\"cx-header-text\" *ngIf=\"showHeader\">\n      {{ column.headerLocalizationKey | cxTranslate }}\n    </span>\n\n    <ng-container *ngIf=\"!column.actionType\">\n      <ng-container\n        *ngTemplateOutlet=\"\n          cellContent;\n          context: { column: column, customerEntry: customerEntry }\n        \"\n      ></ng-container>\n    </ng-container>\n\n    <button\n      *ngIf=\"column.actionType\"\n      (click)=\"startColumnAction(customerEntry, column.actionType)\"\n      class=\"btn btn-link cx-action-link cx-btn-cell\"\n      [attr.title]=\"\n        column.icon\n          ? (column.icon.captionLocalizationKey ?? column.headerLocalizationKey\n            | cxTranslate)\n          : undefined\n      \"\n      [attr.aria-label]=\"\n        column.icon\n          ? (column.icon.captionLocalizationKey ?? column.headerLocalizationKey\n            | cxTranslate)\n          : undefined\n      \"\n    >\n      <ng-container\n        *ngTemplateOutlet=\"\n          cellContent;\n          context: { column: column, customerEntry: customerEntry }\n        \"\n      ></ng-container>\n    </button>\n  </div>\n</ng-template>\n<ng-template #cellContent let-customerEntry=\"customerEntry\" let-column=\"column\">\n  <span *ngIf=\"!column.icon\">{{\n    column.renderer?.(customerEntry) || ''\n  }}</span>\n  <cx-icon\n    *ngIf=\"column.icon\"\n    [attr.title]=\"\n      !column.actionType\n        ? (column.icon.captionLocalizationKey ?? column.headerLocalizationKey\n          | cxTranslate)\n        : undefined\n    \"\n    [class.cx-action-color]=\"column.actionType\"\n    [type]=\"column.icon.symbol\"\n    [attr.aria-label]=\"\n      !column.actionType\n        ? (column.icon.captionLocalizationKey ?? column.headerLocalizationKey\n          | cxTranslate)\n        : undefined\n    \"\n  ></cx-icon>\n</ng-template>\n\n<ng-template #sort>\n  <label>\n    <span class=\"cx-visually-hidden\">{{\n      'asm.customerList.tableSort.sortBy' | cxTranslate\n    }}</span>\n    <cx-sorting\n      class=\"sort-selector\"\n      [sortOptions]=\"sorts\"\n      [sortLabels]=\"getSortLabels() | async\"\n      (sortListEvent)=\"changeSortCode($event)\"\n      [selectedOption]=\"sortCode\"\n      placeholder=\"{{ 'asm.customerList.tableSort.sortBy' | cxTranslate }}\"\n      [cxNgSelectA11y]=\"{\n        ariaLabel: sortCode,\n        ariaControls: 'asm-cusomer-list-table'\n      }\"\n    ></cx-sorting>\n  </label>\n</ng-template>\n\n<ng-template #pagination>\n  <div class=\"cx-pagination-buttons\">\n    <div>\n      {{\n        'asm.customerList.page.page' | cxTranslate: { count: currentPage + 1 }\n      }}\n    </div>\n    <button\n      *ngIf=\"maxPage > 0\"\n      (click)=\"goToPreviousPage()\"\n      class=\"btn btn-link cx-action-link cx-btn-previous\"\n      [disabled]=\"currentPage === 0 || !loaded\"\n    >\n      <cx-icon class=\"previous\" [type]=\"iconTypes.CARET_LEFT\"></cx-icon\n      ><span>{{ 'asm.customerList.page.previous' | cxTranslate }}</span>\n    </button>\n    <button\n      *ngIf=\"maxPage > 0\"\n      (click)=\"goToNextPage()\"\n      class=\"btn btn-link cx-action-link cx-btn-next\"\n      [disabled]=\"currentPage === maxPage || !loaded\"\n    >\n      <span>{{ 'asm.customerList.page.next' | cxTranslate }}</span\n      ><cx-icon class=\"next\" [type]=\"iconTypes.CARET_RIGHT\"></cx-icon>\n    </button>\n  </div>\n</ng-template>\n\n<ng-template #groupSelector let-customerListsPage=\"customerListsPage\">\n  <label>\n    <span class=\"cx-visually-hidden\">{{\n      'asm.customerList.title' | cxTranslate\n    }}</span>\n    <ng-select\n      class=\"customer-list-selector\"\n      [searchable]=\"false\"\n      [clearable]=\"false\"\n      (change)=\"onChangeCustomerGroup()\"\n      [tabIndex]=\"0\"\n      [(ngModel)]=\"selectedUserGroupId\"\n      [items]=\"customerListsPage?.userGroups\"\n      bindLabel=\"name\"\n      bindValue=\"uid\"\n      [cxNgSelectA11y]=\"{\n        ariaLabel: getGroupName(customerListsPage, selectedUserGroupId),\n        ariaControls: 'asm-cusomer-list-table'\n      }\"\n    >\n    </ng-select>\n  </label>\n</ng-template>\n\n<ng-template #closeButton>\n  <button\n    type=\"button\"\n    class=\"close\"\n    attr.aria-label=\"{{ 'common.close' | cxTranslate }}\"\n    (click)=\"closeModal('Cross click')\"\n  >\n    <span aria-hidden=\"true\">\n      <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n    </span>\n  </button>\n</ng-template>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { DIALOG_TYPE, LayoutConfig } from '@spartacus/storefront';\nimport { CustomerListComponent } from './customer-list.component';\n\nexport const defaultCustomerListLayoutConfig: LayoutConfig = {\n  launch: {\n    ASM_CUSTOMER_LIST: {\n      inlineRoot: true,\n      component: CustomerListComponent,\n      dialogType: DIALOG_TYPE.DIALOG,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { LayoutConfig } from '@spartacus/storefront';\nimport { AsmMainUiComponent } from './asm-main-ui/asm-main-ui.component';\n\nexport const defaultAsmLayoutConfig: LayoutConfig = {\n  launch: {\n    ASM: {\n      outlet: 'cx-storefront',\n      component: AsmMainUiComponent,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  DIALOG_TYPE,\n  LAUNCH_CALLER,\n  LayoutConfig,\n} from '@spartacus/storefront';\nimport { AsmBindCartDialogComponent } from './asm-bind-cart-dialog/asm-bind-cart-dialog.component';\n\nexport const defaultBindCartLayoutConfig: LayoutConfig = {\n  launch: {\n    [LAUNCH_CALLER.ASM_BIND_CART]: {\n      inlineRoot: true,\n      component: AsmBindCartDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { I18nModule, provideDefaultConfig } from '@spartacus/core';\nimport {\n  FormErrorsModule,\n  IconModule,\n  KeyboardFocusModule,\n  NgSelectA11yModule,\n  PasswordVisibilityToggleModule,\n  SortingModule,\n  SpinnerModule,\n} from '@spartacus/storefront';\nimport { AsmBindCartDialogComponent } from './asm-bind-cart-dialog/asm-bind-cart-dialog.component';\nimport { AsmBindCartComponent } from './asm-bind-cart/asm-bind-cart.component';\nimport { AsmMainUiComponent } from './asm-main-ui/asm-main-ui.component';\nimport { AsmSessionTimerComponent } from './asm-session-timer/asm-session-timer.component';\nimport { FormatTimerPipe } from './asm-session-timer/format-timer.pipe';\nimport { AsmToggleUiComponent } from './asm-toggle-ui/asm-toggle-ui.component';\nimport { CSAgentLoginFormComponent } from './csagent-login-form/csagent-login-form.component';\nimport { CustomerEmulationComponent } from './customer-emulation/customer-emulation.component';\nimport { CustomerListComponent } from './customer-list/customer-list.component';\nimport { defaultCustomerListLayoutConfig } from './customer-list/default-customer-list-layout.config';\nimport { CustomerSelectionComponent } from './customer-selection/customer-selection.component';\nimport { defaultAsmLayoutConfig } from './default-asm-layout.config';\nimport { defaultBindCartLayoutConfig } from './default-bind-cart-layout.config';\nimport { DotSpinnerComponent } from './dot-spinner/dot-spinner.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    I18nModule,\n    FormErrorsModule,\n    IconModule,\n    NgSelectModule,\n    FormsModule,\n    SpinnerModule,\n    PasswordVisibilityToggleModule,\n    KeyboardFocusModule,\n    NgSelectA11yModule,\n    SortingModule,\n  ],\n  declarations: [\n    AsmBindCartDialogComponent,\n    AsmMainUiComponent,\n    CSAgentLoginFormComponent,\n    CustomerListComponent,\n    CustomerSelectionComponent,\n    AsmSessionTimerComponent,\n    FormatTimerPipe,\n    CustomerEmulationComponent,\n    AsmToggleUiComponent,\n    AsmBindCartComponent,\n    DotSpinnerComponent,\n  ],\n  exports: [\n    AsmBindCartDialogComponent,\n    AsmMainUiComponent,\n    CSAgentLoginFormComponent,\n    CustomerListComponent,\n    CustomerSelectionComponent,\n    AsmSessionTimerComponent,\n    FormatTimerPipe,\n    CustomerEmulationComponent,\n    AsmToggleUiComponent,\n    AsmBindCartComponent,\n    DotSpinnerComponent,\n  ],\n  providers: [\n    provideDefaultConfig(defaultAsmLayoutConfig),\n    provideDefaultConfig(defaultBindCartLayoutConfig),\n    provideDefaultConfig(defaultCustomerListLayoutConfig),\n  ],\n})\nexport class AsmComponentsModule {}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './asm-component.service';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './asm-bind-cart-dialog/asm-bind-cart-dialog.component';\nexport * from './asm-bind-cart/asm-bind-cart.component';\nexport * from './asm-components.module';\nexport * from './asm-main-ui/asm-main-ui.component';\nexport * from './asm-session-timer/asm-session-timer.component';\nexport * from './asm-session-timer/format-timer.pipe';\nexport * from './asm-toggle-ui/asm-toggle-ui.component';\nexport * from './csagent-login-form/csagent-login-form.component';\nexport * from './customer-emulation/customer-emulation.component';\nexport * from './customer-list/customer-list.component';\nexport * from './customer-selection/customer-selection.component';\nexport * from './dot-spinner/dot-spinner.component';\nexport * from './services/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i2","i1","i3","i4","i6","i7.DotSpinnerComponent","i8","i4.DotSpinnerComponent","i5","i6.DotSpinnerComponent","i7","i2.AsmComponentService","i4.FormatTimerPipe","i1.AsmComponentService","i4.AsmBindCartComponent","i3.AsmComponentService","i8.CSAgentLoginFormComponent","i9.CustomerSelectionComponent","i10.AsmSessionTimerComponent","i11.CustomerEmulationComponent","i12.AsmToggleUiComponent"],"mappings":"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"}