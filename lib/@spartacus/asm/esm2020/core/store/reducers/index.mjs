/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { InjectionToken } from '@angular/core';
import { StateUtils } from '@spartacus/core';
import { AsmActions } from '../actions';
import { CUSTOMER_LIST_CUSTOMERS_SEARCH_DATA, CUSTOMER_SEARCH_DATA, } from '../asm-state';
import * as fromAsmUiReducer from './asm-ui.reducer';
export function getReducers() {
    return {
        customerSearchResult: StateUtils.loaderReducer(CUSTOMER_SEARCH_DATA),
        customerListCustomersSearchResult: StateUtils.loaderReducer(CUSTOMER_LIST_CUSTOMERS_SEARCH_DATA),
        asmUi: fromAsmUiReducer.reducer,
    };
}
export const reducerToken = new InjectionToken('AsmReducers');
export const reducerProvider = {
    provide: reducerToken,
    useFactory: getReducers,
};
export function clearCustomerSupportAgentAsmState(reducer) {
    return function (state, action) {
        if (action.type === AsmActions.LOGOUT_CUSTOMER_SUPPORT_AGENT) {
            state = {
                ...state,
                customerSearchResult: {},
            };
        }
        return reducer(state, action);
    };
}
export const metaReducers = [
    clearCustomerSupportAgentAsmState,
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvYXNtL2NvcmUvc3RvcmUvcmVkdWNlcnMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFBRSxjQUFjLEVBQVksTUFBTSxlQUFlLENBQUM7QUFRekQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDeEMsT0FBTyxFQUVMLG1DQUFtQyxFQUNuQyxvQkFBb0IsR0FDckIsTUFBTSxjQUFjLENBQUM7QUFDdEIsT0FBTyxLQUFLLGdCQUFnQixNQUFNLGtCQUFrQixDQUFDO0FBRXJELE1BQU0sVUFBVSxXQUFXO0lBQ3pCLE9BQU87UUFDTCxvQkFBb0IsRUFDbEIsVUFBVSxDQUFDLGFBQWEsQ0FBcUIsb0JBQW9CLENBQUM7UUFDcEUsaUNBQWlDLEVBQy9CLFVBQVUsQ0FBQyxhQUFhLENBQ3RCLG1DQUFtQyxDQUNwQztRQUNILEtBQUssRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPO0tBQ2hDLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUN2QixJQUFJLGNBQWMsQ0FBNkIsYUFBYSxDQUFDLENBQUM7QUFFaEUsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFhO0lBQ3ZDLE9BQU8sRUFBRSxZQUFZO0lBQ3JCLFVBQVUsRUFBRSxXQUFXO0NBQ3hCLENBQUM7QUFFRixNQUFNLFVBQVUsaUNBQWlDLENBQy9DLE9BQXdDO0lBRXhDLE9BQU8sVUFBVSxLQUEyQixFQUFFLE1BQWM7UUFDMUQsSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyw2QkFBNkIsRUFBRTtZQUM1RCxLQUFLLEdBQUc7Z0JBQ04sR0FBSSxLQUFrQjtnQkFDdEIsb0JBQW9CLEVBQUUsRUFBZ0Q7YUFDdkUsQ0FBQztTQUNIO1FBQ0QsT0FBTyxPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQXVCO0lBQzlDLGlDQUFpQztDQUNsQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMjMgU0FQIFNwYXJ0YWN1cyB0ZWFtIDxzcGFydGFjdXMtdGVhbUBzYXAuY29tPlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4sIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBBY3Rpb24sXG4gIEFjdGlvblJlZHVjZXIsXG4gIEFjdGlvblJlZHVjZXJNYXAsXG4gIE1ldGFSZWR1Y2VyLFxufSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBDdXN0b21lclNlYXJjaFBhZ2UgfSBmcm9tICdAc3BhcnRhY3VzL2FzbS9yb290JztcbmltcG9ydCB7IFN0YXRlVXRpbHMgfSBmcm9tICdAc3BhcnRhY3VzL2NvcmUnO1xuaW1wb3J0IHsgQXNtQWN0aW9ucyB9IGZyb20gJy4uL2FjdGlvbnMnO1xuaW1wb3J0IHtcbiAgQXNtU3RhdGUsXG4gIENVU1RPTUVSX0xJU1RfQ1VTVE9NRVJTX1NFQVJDSF9EQVRBLFxuICBDVVNUT01FUl9TRUFSQ0hfREFUQSxcbn0gZnJvbSAnLi4vYXNtLXN0YXRlJztcbmltcG9ydCAqIGFzIGZyb21Bc21VaVJlZHVjZXIgZnJvbSAnLi9hc20tdWkucmVkdWNlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWR1Y2VycygpOiBBY3Rpb25SZWR1Y2VyTWFwPEFzbVN0YXRlPiB7XG4gIHJldHVybiB7XG4gICAgY3VzdG9tZXJTZWFyY2hSZXN1bHQ6XG4gICAgICBTdGF0ZVV0aWxzLmxvYWRlclJlZHVjZXI8Q3VzdG9tZXJTZWFyY2hQYWdlPihDVVNUT01FUl9TRUFSQ0hfREFUQSksXG4gICAgY3VzdG9tZXJMaXN0Q3VzdG9tZXJzU2VhcmNoUmVzdWx0OlxuICAgICAgU3RhdGVVdGlscy5sb2FkZXJSZWR1Y2VyPEN1c3RvbWVyU2VhcmNoUGFnZT4oXG4gICAgICAgIENVU1RPTUVSX0xJU1RfQ1VTVE9NRVJTX1NFQVJDSF9EQVRBXG4gICAgICApLFxuICAgIGFzbVVpOiBmcm9tQXNtVWlSZWR1Y2VyLnJlZHVjZXIsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyVG9rZW46IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8QXNtU3RhdGU+PiA9XG4gIG5ldyBJbmplY3Rpb25Ub2tlbjxBY3Rpb25SZWR1Y2VyTWFwPEFzbVN0YXRlPj4oJ0FzbVJlZHVjZXJzJyk7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyUHJvdmlkZXI6IFByb3ZpZGVyID0ge1xuICBwcm92aWRlOiByZWR1Y2VyVG9rZW4sXG4gIHVzZUZhY3Rvcnk6IGdldFJlZHVjZXJzLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ3VzdG9tZXJTdXBwb3J0QWdlbnRBc21TdGF0ZShcbiAgcmVkdWNlcjogQWN0aW9uUmVkdWNlcjxBc21TdGF0ZSwgQWN0aW9uPlxuKTogQWN0aW9uUmVkdWNlcjxBc21TdGF0ZSwgQWN0aW9uPiB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGU6IEFzbVN0YXRlIHwgdW5kZWZpbmVkLCBhY3Rpb246IEFjdGlvbikge1xuICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQXNtQWN0aW9ucy5MT0dPVVRfQ1VTVE9NRVJfU1VQUE9SVF9BR0VOVCkge1xuICAgICAgc3RhdGUgPSB7XG4gICAgICAgIC4uLihzdGF0ZSBhcyBBc21TdGF0ZSksXG4gICAgICAgIGN1c3RvbWVyU2VhcmNoUmVzdWx0OiB7fSBhcyBTdGF0ZVV0aWxzLkxvYWRlclN0YXRlPEN1c3RvbWVyU2VhcmNoUGFnZT4sXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IG1ldGFSZWR1Y2VyczogTWV0YVJlZHVjZXI8YW55PltdID0gW1xuICBjbGVhckN1c3RvbWVyU3VwcG9ydEFnZW50QXNtU3RhdGUsXG5dO1xuIl19